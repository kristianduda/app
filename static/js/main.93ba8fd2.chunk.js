(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e){e.exports={url:{store:"https://kdvps.vps.wbsprt.com:8002",auth:"https://kdvps.vps.wbsprt.com:8001"},_github:{id:"c426e790821064328634"},_google:{id:"548560778490-kpllp0k9fhf7bdkfvlbjl0p4m88t0ipt.apps.googleusercontent.com"},strava:{id:"39689"},_fb:{id:"719665785361475"},"2fa":!1,home:"/activities",configId:"5c606e8afb6fc06f052da3c9",header:"/img/header.jpg",logo:"/img/logo.png",palette:{type:"light",primary:{main:"#bd5d38"},secondary:{main:"#343a40"}},locale:"en-US",passwordPattern:"^.{4,}$"}},294:function(e){e.exports={table:{of:"of",rowsPerPage:"Rows per page:",previosPage:"Previous Page",nextPage:"Next Page",delete:"Delete",sure:"Are you sure?",selected:"Selected",filter:"Filter list",export:"Export",refresh:"Refresh list",sort:"Sort",edit:"Edit"},toolbar:{account:"Account",open:"Open drawer"},form:{save:"Save"},dialog:{ok:"Ok",cancel:"Cancel"}}},295:function(e){e.exports={table:{of:"z",rowsPerPage:"Z\xe1znamov:",previosPage:"Predch\xe1dzaj\xfaca strana",nextPage:"Nasleduj\xfaca strana",delete:"Zmaza\u0165",sure:"Ste si ist\xfd?",selected:"zvolen\xfdch",filter:"Filtrova\u0165",export:"Exportova\u0165",refresh:"Obnovi\u0165",sort:"Triedi\u0165",edit:"Upravi\u0165"},toolbar:{account:"\xda\u010det",open:"Otvori\u0165"},form:{save:"Ulo\u017ei\u0165"},dialog:{ok:"Potvrdi\u0165",cancel:"Zru\u0161i\u0165"}}},351:function(e){e.exports={route:{records:"Records",clients:"Clients",projects:"Projects",reports:"Reports",events:"Events",enums:"Enums",calendar:"Calendar",sign:"Sign data",verify:"Verify data",project:"Project",login:"Login",oauth:"Auth",tags:"Tags",activities:"Activities",account:"Account"},field:{name:"Name",email:"Email",username:"Username",password:"Password",repeatedPassword:"Password again",otp:"2FA",token:"Token",key:"Key",enumTypeId:"Type",disabled:"Disabled",address:"Address",city:"City",postCode:"Post code",country:"Country",tel:"Telephone contact",emailInUse:"Email is used by another user",usernameInUse:"Username is used by another user",passwordWeak:"Password must contains at least 4 characters",passwordNoMatch:"Passwords not matched"},activities:"Activities",typeId:"Type",opId:"Stats",groupId:"Group",months:"Months",years:"Years",user:"User",distance:"Distance",elevation:"Elevation",time:"Time",count:"Count",kudos:"Kudos",value:"Value",club:"Club",sex:"Sex",sync:"Sync",connect:"Connect",connected:"Connected apps",generateSecret:"Generate secret",secret:"Secret",signIn:"Sign In",stravaSignIn:"Sign in with Strava",googleSignIn:"Sign in with Google",githubSignIn:"Sign in with Github",fbSignIn:"Sign in with FB",useAccount:"or use your account",totalDistance:"Total distance",totalElevation:"Total elevation",totalTime:"Total time",totalKudos:"Total kudos",maxDistance:"Max distance",maxElevation:"Max elevation",maxTime:"Max time",maxKudos:"Max kudos",thisWeek:"This week",lastWeek:"Last week",thisMonth:"This month",lastMonth:"Last month",thisYear:"This year",myMonths:"My months",myYears:"My years",all:"All",ride:"Ride",run:"Run",walk:"Walk",hike:"Hike",lastSync:"last sync",rideDes:"* bike distance calc as distance * 0.33",loading:"loading...",enums:"Enums",enum:"Enum"}},352:function(e){e.exports={route:{records:"Z\xe1znamy",clients:"Klienti",projects:"Projekty",reports:"Reporty",events:"Udalosti",enums:"\u010c\xedseln\xedky",calendar:"Kalend\xe1r",sign:"Podp\xedsa\u0165 d\xe1ta",verify:"Overi\u0165 d\xe1ta",project:"Projekt",login:"Prihl\xe1senie",oauth:"Autentifik\xe1cia",tags:"Zna\u010dky",activities:"Aktivity",account:"\xda\u010det"},field:{name:"Meno",email:"Email",username:"Meno",password:"Heslo",repeatedPassword:"Heslo znova",otp:"2FA",token:"Token",key:"K\u013e\xfa\u010d",enumTypeId:"Typ",disabled:"Zru\u0161en\xe9",address:"Adresa",city:"Obec",postCode:"PS\u010c",country:"Krajina",tel:"Telef\xf3nny kontakt",emailInUse:"Zadan\xfd email u\u017e pou\u017e\xedva in\xfd pou\u017e\xedvate\u013e",usernameInUse:"Zadan\xe9 meno u\u017e pou\u017e\xedva in\xfd pou\u017e\xedvate\u013e",passwordWeak:"Heslo mus\xed obsahova\u0165 aspo\u0148 4 znaky",passwordNoMatch:"Hesl\xe1 sa nezhoduj\xfa"},activities:"Activity",typeId:"Typ",opId:"\u0160tatistiky",groupId:"Grupa",months:"Mesiace",years:"Roky",user:"Pou\u017e\xedvate\u013e",distance:"Vzdialenos\u0165",elevation:"V\xfd\u0161ka",time:"\u010cas",count:"Po\u010det",kudos:"Kudos",value:"Hodnota",club:"Klub",sex:"Pohlavie",sync:"Sync",connect:"Prepojenie",connected:"Prepojen\xe9 aplik\xe1cie",generateSecret:"Generova\u0165 secret",secret:"Secret",token:"Token",signIn:"Prihl\xe1senie",stravaSignIn:"Prihl\xe1senie so Strava",googleSignIn:"Prihl\xe1senie s Google",githubSignIn:"Prihl\xe1senie s Github",fbSignIn:"Prihl\xe1senie s FB",useAccount:"alebo pou\u017eite svoj \xfa\u010det",totalDistance:"Celkov\xe1 vzdialenos\u0165",totalElevation:"Celkov\xe1 v\xfd\u0161ka",totalTime:"Celkov\xfd \u010das",totalKudos:"Celkom kudos",maxDistance:"Maxim\xe1lna vzdielenos\u0165",maxElevation:"Maxim\xe1lna v\xfd\u0161ka",maxTime:"Maxim\xe1lny \u010das",maxKudos:"Maximum kudos",thisWeek:"Tento t\xfd\u017ede\u0148",lastWeek:"Minul\xfd t\xfd\u017ede\u0148",thisMonth:"Tento mesiac",lastMonth:"Minul\xfd mesiac",thisYear:"Tento rok",myMonths:"Moje mesiace",myYears:"Moje roky",all:"V\u0161etky",ride:"Bicykel",run:"Beh",walk:"Ch\xf4dza",hike:"Turistika",lastSync:"posledn\xe1 synchroniz\xe1cia",rideNote:"* vzdialenos\u0165 prejden\xe1 na bicykli r\xe1tan\xe1 ako vzdialenos\u0165 * 0.33",loading:"na\u010d\xedtavanie...",enums:"\u010c\xedseln\xedky",enum:"\u010c\xedseln\xedk"}},377:function(e,t,a){e.exports=a(752)},382:function(e,t,a){},730:function(e,t,a){},752:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a(12),s=a(14),i=a(13),c=a(15),l=a(0),o=a.n(l),u=a(43),d=a.n(u),p=(a(382),a(353)),h=a(149),f=a(47),m=a(346),v=a.n(m),b=a(38),g=a.n(b),w=a(347),y=a.n(w),x=a(9),k=a.n(x);function E(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var O=o.a.createContext(),j=function(e){return function(t){return o.a.createElement(O.Consumer,null,function(a){return o.a.createElement(e,Object.assign({},t,{user:a}))})}},C=a(22),S=a(298),D=a.n(S),T=a(104),_=a.n(T),I=a(296),N=a.n(I),P=a(198),F=a.n(P),R=a(197),L=a.n(R),M=a(121),A=a.n(M),W=a(122),U=a.n(W),q=a(103),z=a.n(q),V=a(299),B=a.n(V),K=a(71),Y=a.n(K),H=a(33),G=a.n(H),Z=a(300),J=a.n(Z),X=a(72),$=a.n(X),Q=a(152),ee=a.n(Q),te=a(7),ae=a(150),ne=a.n(ae),re=a(25),se=a(294),ie=a(295),ce=o.a.createContext(),le=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).translate=function(e){return function(t){var n=t.split("."),r=a.locales[e][n[0]];return n.length>1&&(r=r[n[1]]),r}},a.locales={"en-US":Object(re.a)({},se,e["en-US"]),"sk-SK":Object(re.a)({},ie,e["sk-SK"])},a.state={locale:e.locale||"en-US"},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.children;return o.a.createElement(ce.Provider,{value:{locale:this.state.locale,translate:this.translate(this.state.locale)}},e)}}]),t}(o.a.Component),oe=function(e){return function(t){return o.a.createElement(ce.Consumer,null,function(a){return o.a.createElement(e,Object.assign({},t,a))})}},ue=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleMenu=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a.handleClickAccount=function(){a.props.history.push("/account"),a.handleClose()},a.handleDrawerToggle=function(){a.setState(function(e){return{mobileOpen:!e.mobileOpen}})},a.redirect=function(e){Object(ae.isWidthDown)("md",a.props.width)&&a.handleDrawerToggle(),a.props.history.push(e.path)},a.state={mobileOpen:!1,anchorEl:null},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,r=t.routes,s=t.user,i=t.translate,c=this.state.anchorEl,l=Boolean(c),u=this.props.history.location.pathname,d=r.find(function(e){return e.path===u}),p=o.a.createElement("div",null,o.a.createElement("div",{className:a.toolbar}),o.a.createElement(N.a,null),o.a.createElement(A.a,null,r.map(function(t){return!t.exact||t.hidden||t.permission&&!s.hasPermission(t.permission)?null:o.a.createElement(U.a,{button:!0,key:t.name,onClick:function(){return e.redirect(t)}},o.a.createElement(z.a,{primary:i("route."+t.name)||t.name}))})));return d&&d.anonymous?o.a.createElement("div",{className:a.root},this.props.children):o.a.createElement("div",{className:a.root},o.a.createElement(_.a,null),o.a.createElement(D.a,{position:"fixed",className:a.appBar,color:"secondary"},o.a.createElement(Y.a,null,o.a.createElement(g.a,{color:"inherit","aria-label":i("toolbar.open"),onClick:this.handleDrawerToggle,className:a.menuButton},o.a.createElement(B.a,null)),o.a.createElement(G.a,{variant:"h6",color:"inherit",noWrap:!0,className:a.grow},d?i("route."+d.name)||d.name:"App"),o.a.createElement("div",null,o.a.createElement("span",null,s.user?s.user.name:null),o.a.createElement(g.a,{"aria-owns":l?"menu-appbar":void 0,"aria-haspopup":"true",onClick:this.handleMenu,color:"inherit"},o.a.createElement(J.a,null)),o.a.createElement(ee.a,{id:"menu-appbar",anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:this.handleClose},o.a.createElement($.a,{onClick:this.handleClickAccount},i("toolbar.account")))))),o.a.createElement("nav",{className:a.drawer},o.a.createElement(L.a,{lgUp:!0,implementation:"css"},o.a.createElement(F.a,{variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:this.state.mobileOpen,onClose:this.handleDrawerToggle,classes:{paper:a.drawerPaper}},p)),o.a.createElement(L.a,{mdDown:!0,implementation:"css"},o.a.createElement(F.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},p))),o.a.createElement("main",{className:a.content},o.a.createElement("div",{className:a.toolbar}),this.props.children))}}]),t}(o.a.Component),de=E(ne()(),Object(te.withStyles)(function(e){return{root:{display:"flex"},grow:{flexGrow:1},drawer:Object(C.a)({},e.breakpoints.up("lg"),{width:240,flexShrink:0}),appBar:Object(C.a)({marginLeft:240},e.breakpoints.up("lg"),{width:"calc(100% - ".concat(240,"px)")}),menuButton:Object(C.a)({marginRight:20},e.breakpoints.up("lg"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:2*e.spacing.unit,overflow:"auto"}}},{withTheme:!0}),f.f,oe)(ue),pe=a(26),he=a.n(pe),fe=a(24),me=a.n(fe),ve=a(3),be=a.n(ve),ge=a(5),we=a(109),ye=function(e){switch(e){case"sk-SK":return{format:"DD.M.YYYY",mask:[/\d/,/\d/,".",/\d/,".",/\d/,/\d/,/\d/,/\d/]};case"en-US":default:return{format:"MM/DD/YYYY",mask:[/\d/,/\d/,"/",/\d/,/\d/,"/",/\d/,/\d/,/\d/,/\d/]}}};var xe=oe(Object(te.withStyles)(function(e){return{formControl:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,minWidth:160}}})(function(e){var t=e.classes,a=ye(e.locale),n=a.format,r=a.mask,s=e.label||e.translate("field."+e.field);return o.a.createElement(we.a,{className:t.formControl,keyboard:!0,label:s,format:n,clearable:!e.required,mask:function(e){return e?r:[]},value:e.value||null,onChange:function(t){return e.onChange(e.field,t?t.toDate():null)},disableOpenOnEnter:!0,animateYearScrolling:!1,style:{flex:1,display:"flex"},disabled:e.disabled,okLabel:e.translate("dialog.ok"),cancelLabel:e.translate("dialog.cancel")})})),ke=a(60),Ee=a.n(ke),Oe=a(196),je=a.n(Oe),Ce=a(57),Se=a.n(Ce),De=a(59),Te=a.n(De);var _e=oe(Object(te.withStyles)(function(e){return{formControl:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,minWidth:100}}})(function(e){var t=e.classes,a=e.label||e.translate("field."+e.field);return o.a.createElement(Ee.a,{className:t.formControl,fullWidth:e.fullWidth,required:e.required,error:e.errorText&&""!==e.errorText},o.a.createElement(Te.a,{htmlFor:e.field},a),o.a.createElement(Se.a,{type:"new-password"===e.type?"password":e.type,id:e.field,value:e.value||"",onChange:function(t){return e.onChange(e.field,t.target.value)},placeholder:e.placeholder,autoComplete:"new-password"===e.type?"new-password":null,disabled:e.disabled,multiline:e.multiline,rows:e.rows,startAdornment:e.startAdornment,inputProps:{onBlur:e.onBlur}}),o.a.createElement(je.a,null,e.errorText))}));var Ie=oe(Object(te.withStyles)(function(e){return{formControl:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,minWwidth:80}}})(function(e){var t=e.classes,a=e.label||e.translate("field."+e.field);return o.a.createElement(Ee.a,{className:t.formControl,required:e.required,fullWidth:e.fullWidth},o.a.createElement(Te.a,{htmlFor:e.field},a),o.a.createElement(Se.a,{id:e.field,value:e.value?e.value.toString():"0",onChange:function(t){return e.onChange(e.field,Number(t.target.value))},type:"number",disabled:e.disabled,inputProps:{min:e.min,max:e.max,step:e.step}}))})),Ne=a(148),Pe=a.n(Ne),Fe=a(105),Re=a.n(Fe);var Le=oe(Object(te.withStyles)(function(e){return{formControl:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,minWidth:120}}})(function(e){var t=e.classes,a=e.data,n=e.textField,r=e.required,s=e.value,i=e.onChange,c=e.field,l=e.multiple;r&&null===s&&a&&a.length>0&&i(c,a[0]._id);var u=function(e){var t=a.find(function(t){return t._id===e});return t?t[n]:null},d=e.label||e.translate("field."+e.field);return o.a.createElement(Ee.a,{className:t.formControl,required:r,fullWidth:e.fullWidth},d&&o.a.createElement(Te.a,{htmlFor:e.field},d),o.a.createElement(Pe.a,{value:null!==e.value?e.value:"",onChange:function(t){return i(e.field,t.target.value)},id:e.field,multiple:e.multiple,renderValue:function(e){return l?e.map(function(e){return u(e)}).join(" | "):u(e)},disabled:e.disabled},!e.required&&!l&&o.a.createElement($.a,{value:""},o.a.createElement("em",null,"None")),a.map(function(e){return o.a.createElement($.a,{key:e._id,value:e._id},l&&o.a.createElement(Re.a,{checked:void 0!==s.find(function(t){return t===e._id})}),o.a.createElement(z.a,{primary:e[n]}))})))})),Me=a(36),Ae=a.n(Me),We=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).handleChange=function(e,t){a.setState(Object(C.a)({},e,t))},a.handleSubmit=function(e){e.preventDefault(),a.props.onSubmit()},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.inline,n=e.disabled,r=e.translate;return o.a.createElement("form",{className:a?t.formInline:t.form,onSubmit:this.handleSubmit},this.props.children,!n&&o.a.createElement(Ae.a,{className:t.submitButton,type:"submit",variant:"contained",color:"primary",disabled:n},r("form.save")))}}]),t}(o.a.Component),Ue=oe(Object(te.withStyles)(function(e){return{formInline:{display:"flex",flexWrap:"wrap",flexDirection:"row"},form:{display:"flex",flexDirection:"column"},submitButton:{margin:e.spacing.unit,marginBottom:2*e.spacing.unit}}})(We)),qe=o.a.createContext(),ze=function(e){return function(t){return o.a.createElement(qe.Consumer,null,function(a){return o.a.createElement(e,Object.assign({},t,{store:a}))})}},Ve={date:new Date,name:"",duration:0,projectId:null,taskId:null},Be=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state=a.props.data||Ve,a.handleChangeProject=function(e,t){var n=a.props.user.user,r=a.props.store,s=r.getOpenedTasks,i=r.handleChange;s(t,n),a.props.data||i(e,t),a.handleChange(e,t)},a.handleChange=function(e,t){a.setState(Object(C.a)({},e,t))},a.handleSubmit=Object(ge.a)(be.a.mark(function e(){var t,n,r,s,i;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.store,n=t.addTimeRecord,r=t.refreshTimeRecords,s=t.editTimeRecord,i=a.props.user.user,a.state.projectId){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,!a.state._id){e.next=10;break}return e.next=8,s(a.state,i);case 8:e.next=12;break;case 10:return e.next=12,n(a.state,i);case 12:r(),a.setState(Ve),a.props.onSubmit&&a.props.onSubmit(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),a.props.user.showError(e.t0);case 20:case"end":return e.stop()}},e,null,[[4,17]])})),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.date,n=t.name,r=t.duration,s=t.projectId,i=t.taskId,c=this.props.store,l=c.projects,u=c.tasks;return o.a.createElement(Ue,{onSubmit:this.handleSubmit,inline:!0},o.a.createElement("div",{className:e.nameTextInput},o.a.createElement(_e,{label:"Name",value:n,field:"name",onChange:this.handleChange,fullWidth:!0,required:!0})),o.a.createElement(Le,{label:"Project",value:s,field:"projectId",onChange:this.handleChangeProject,data:l.data,textField:"name",required:!0}),o.a.createElement(Le,{label:"Task",value:i,field:"taskId",onChange:this.handleChange,data:u.data,textField:"name"}),o.a.createElement(xe,{label:"Date",value:a,field:"date",onChange:this.handleChange,required:!0}),o.a.createElement(Ie,{label:"Duration",value:r,field:"duration",onChange:this.handleChange,min:0,step:.25,required:!0}))}}]),t}(o.a.Component),Ke=E(Object(te.withStyles)(function(e){return{nameTextInput:{display:"flex",flex:1}}}),ze,j)(Be),Ye=a(45),He=a(314),Ge=a.n(He),Ze=a(315),Je=a.n(Ze),Xe=a(66),$e=a.n(Xe),Qe=a(316),et=a.n(Qe),tt=a(123),at=a.n(tt),nt=a(306),rt=a.n(nt),st=a(307),it=a.n(st),ct=a(48),lt=a.n(ct),ot=oe(function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onSelectAllClick,n=t.sort,r=t.numSelected,s=t.rowCount,i=t.rows,c=t.sortable,l=t.translate;return o.a.createElement(rt.a,null,o.a.createElement(at.a,null,o.a.createElement($e.a,{padding:"checkbox"},o.a.createElement(Re.a,{indeterminate:r>0&&r<s,checked:r===s,onChange:a})),i.map(function(t){var a=t.label||l("field.".concat(t.idField||t.field));return o.a.createElement($e.a,{key:t.field,align:"num"===t.type?"right":"left",padding:t.disablePadding?"none":"default",sortDirection:n.field===t.field&&n.dir},!1===c||!1===t.sortable?a:o.a.createElement(lt.a,{title:l("table.sort"),placement:"num"===t.type?"bottom-end":"bottom-start",enterDelay:300},o.a.createElement(it.a,{active:n.field===t.field,direction:n.dir,onClick:e.createSortHandler(t.field)},a)))},this),o.a.createElement($e.a,{padding:"none"})))}}]),t}(o.a.Component)),ut=a(6),dt=a.n(ut),pt=a(308),ht=a.n(pt),ft=a(309),mt=a.n(ft),vt=a(154),bt=a.n(vt),gt=a(155),wt=a.n(gt),yt=a(64),xt=oe(Object(te.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(yt.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 auto"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})(function(e){var t=e.numSelected,a=e.classes,n=e.onDelete,r=e.onFilter,s=e.title,i=e.onExport,c=e.isFilterSet,l=e.actions,u=e.onRefresh,d=e.exportDisabled,p=e.translate;return o.a.createElement(Y.a,{className:dt()(a.root,Object(C.a)({},a.highlight,t>0))},o.a.createElement("div",{className:a.title},t>0?o.a.createElement(G.a,{color:"inherit",variant:"subtitle1"},t," ",p("table.selected")):o.a.createElement(G.a,{variant:"h6",id:"tableTitle"},s)),o.a.createElement("div",{className:a.spacer}),o.a.createElement("div",{className:a.actions},l,t>0?o.a.createElement(lt.a,{title:p("table.delete")},o.a.createElement(g.a,{"aria-label":p("table.delete"),onClick:n},o.a.createElement(ht.a,null))):o.a.createElement(lt.a,{title:p("table.filter")},o.a.createElement(g.a,{"aria-label":p("table.filter"),color:c?"primary":"default",onClick:r},o.a.createElement(bt.a,null))),o.a.createElement(lt.a,{title:p("table.export")},o.a.createElement(g.a,{"aria-label":p("table.export"),onClick:i,disabled:d},o.a.createElement(mt.a,null))),o.a.createElement(lt.a,{title:p("table.refresh")},o.a.createElement(g.a,{"aria-label":p("table.refresh"),onClick:u},o.a.createElement(wt.a,null)))))})),kt=a(65),Et=a.n(kt),Ot=a(80),jt=a.n(Ot),Ct=a(153),St=a.n(Ct),Dt=a(310),Tt=a.n(Dt),_t=a(81),It=a.n(_t);var Nt=oe(function(e){return o.a.createElement(Et.a,{open:e.isOpen,onClose:e.onClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(It.a,{id:"alert-dialog-title"},e.title),o.a.createElement(St.a,null,o.a.createElement(Tt.a,{id:"alert-dialog-description"},e.description)),o.a.createElement(jt.a,null,o.a.createElement(Ae.a,{onClick:e.onClose,color:"primary"},e.translate("dialog.cancel")),o.a.createElement(Ae.a,{onClick:e.onConfirm,color:"primary",autoFocus:!0},e.translate("dialog.ok"))))}),Pt=a(23),Ft=a.n(Pt),Rt=function(e,t,a){var n,r,s=[];a&&(t.forEach(function(e){r=e.field,(n=a[r])&&s.push.apply(s,Object(Ye.a)(e.data.find(function(e){return e._id===n}).filters))}),e.forEach(function(e){switch(e.type){case"num":r=e.field,(n=a[r])&&s.push({field:r,op:"eq",value:n});break;case"bool":r=e.field,(n=a[r])&&s.push({field:r,op:"eq",value:1===n});break;case"date":case"datetime":r=e.field,(n=a[r])&&(s.push({field:r,op:"lte",value:Ft()(n).endOf("day").toDate()}),s.push({field:r,op:"gte",value:Ft()(n).startOf("day").toDate()}));break;case"enum":case"array":r=e.idField,(n=a[r])&&n.length>0&&s.push({field:r,op:"in",value:n});break;default:r=e.field,(n=a[r])&&s.push({field:r,op:"regex",value:n})}}));return s},Lt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleChange=function(e,t){a.setState(Object(C.a)({},e,t))},a.handleClear=function(){var e={};a.props.filters.forEach(function(t){e[t.field]=null}),a.props.rows.forEach(function(t){var a="enum"===t.type||"array"===t.type?t.idField:t.field;e[a]=null}),a.props.onConfirm(null),a.setState(e)},a.handleSubmit=function(){a.props.onConfirm(a.state)},a.buildFilter=function(e){if(!1===e.filterable)return null;switch(e.type){case"enum":case"array":var t=e.textField||e.field.split(".").pop(),n=a.props.store[e.data].data;return o.a.createElement(Le,{key:e.field,label:e.label,value:a.state[e.idField]||[],field:e.idField,onChange:a.handleChange,data:e.getData?e.getData(n):n,textField:t,multiple:!0});case"bool":return o.a.createElement(Le,{key:e.field,label:e.label,value:a.state[e.field],field:e.field,onChange:a.handleChange,data:[{_id:1,name:"T"},{_id:-1,name:"F"}],textField:"name"});case"date":case"datetime":return o.a.createElement(xe,{key:e.field,label:e.label,value:a.state[e.field],field:e.field,onChange:a.handleChange});case"num":return o.a.createElement(Ie,{key:e.field,label:e.label,value:a.state[e.field],field:e.field,onChange:a.handleChange,min:0});default:return o.a.createElement(_e,{key:e.field,label:e.label,value:a.state[e.field],field:e.field,onChange:a.handleChange})}},a.state=e.defaultState||{},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props;return o.a.createElement(Et.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:t.isOpen,onClose:t.onClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0},o.a.createElement(It.a,{id:"alert-dialog-title"},"Filters"),this.props.filters.map(function(t){return o.a.createElement(Le,{value:e.state[t.field],field:t.field,label:t.label,onChange:e.handleChange,data:t.data,textField:"name"})}),t.rows.map(function(t){return e.buildFilter(t)}),o.a.createElement(jt.a,null,o.a.createElement(Ae.a,{onClick:this.handleClear,color:"primary"},"Clear"),o.a.createElement(Ae.a,{onClick:this.handleSubmit,color:"primary",autoFocus:!0},"OK")))}}]),t}(o.a.Component),Mt=a(311),At=a.n(Mt),Wt=oe(function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={anchorEl:null,isOpenDelete:!1},a.handleOpenMenu=function(e){a.setState({anchorEl:e.currentTarget})},a.handleCloseMenu=function(){a.setState({anchorEl:null})},a.handleCloseDelete=function(){a.setState({isOpenDelete:!1})},a.handleOpenDelete=function(){a.setState({isOpenDelete:!0,anchorEl:null})},a.onDelete=function(){a.props.onDelete(),a.handleCloseDelete()},a.onEdit=function(){a.props.onEdit(),a.handleCloseMenu()},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state,t=e.anchorEl,a=e.isOpenDelete,n=this.props.translate;return o.a.createElement("div",null,o.a.createElement(g.a,{"aria-owns":t?"actions-menu":void 0,"aria-haspopup":"true",edge:"end","aria-label":"actions",onClick:this.handleOpenMenu,disabled:this.props.disabled},o.a.createElement(At.a,null)),o.a.createElement(ee.a,{id:"actions-menu",anchorEl:t,open:Boolean(t),onClose:this.handleCloseMenu},o.a.createElement($.a,{onClick:this.onEdit},n("table.edit")),o.a.createElement($.a,{onClick:this.handleOpenDelete},n("table.delete"))),o.a.createElement(Nt,{isOpen:a,onClose:this.handleCloseDelete,onConfirm:this.onDelete,title:n("table.delete"),description:n("table.sure")}))}}]),t}(o.a.Component)),Ut=a(312),qt=a.n(Ut);var zt=Object(te.withStyles)(function(e){return{progress:{backgroundColor:"white",opacity:.8,position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1800,display:"flex",justifyContent:"center",alignItems:"center"}}})(function(e){var t=e.classes;return e.isLoading?o.a.createElement("div",{className:t.progress},o.a.createElement(qt.a,null)):null}),Vt=a(313),Bt=a(49),Kt=a.n(Bt),Yt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleRequestSort=function(e,t){var n=t,r="desc";a.state.sort.field===t&&"desc"===a.state.sort.dir&&(r="asc");var s={field:n,dir:r},i=a.state,c=i.filters,l=i.page,o=i.rowsPerPage;a.onChange(c,l,o,s),a.setState({sort:s})},a.handleSelectAllClick=function(e){if(e.target.checked){var t=a.props.store[a.props.data].data;a.setState(function(e){return{selected:t.filter(function(e){return!1===a.props.isDisabled(e)}).map(function(e){return e._id})}})}else a.setState({selected:[]})},a.handleClick=function(e){var t=a.state.selected,n=t.indexOf(e),r=[];-1===n?r=r.concat(t,e):0===n?r=r.concat(t.slice(1)):n===t.length-1?r=r.concat(t.slice(0,-1)):n>0&&(r=r.concat(t.slice(0,n),t.slice(n+1))),a.setState({selected:r})},a.handleChangePage=function(e,t){var n=a.state,r=n.filters,s=n.rowsPerPage,i=n.sort;a.onChange(r,t,s,i),a.setState({page:t})},a.handleChangeRowsPerPage=function(e){var t=e.target.value,n=a.state,r=n.filters,s=n.page,i=n.sort;a.onChange(r,s,t,i),a.setState({rowsPerPage:t})},a.isSelected=function(e){return-1!==a.state.selected.indexOf(e)},a.onChange=function(e,t,n,r){a.props.onChange(e,{limit:n,skip:n*t},r)},a.componentDidMount=function(){var e=a.state,t=e.filters,n=e.page,r=e.rowsPerPage,s=e.sort;a.onChange(t,n,r,s)},a.handleOpenFilter=function(){a.setState({isOpenFilter:!0})},a.handleCloseFilter=function(){a.setState({isOpenFilter:!1})},a.handleConfirmFilter=function(e){var t=Rt(a.props.rows,a.props.filters,e),n=a.state,r=n.rowsPerPage,s=n.sort;a.onChange(t,0,r,s),a.setState({filters:t,page:0,isOpenFilter:!1})},a.onDeleteMultiple=Object(ge.a)(be.a.mark(function e(){var t,n,r,s,i,c;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.selected,r=t.filters,s=t.page,i=t.rowsPerPage,c=t.sort,e.next=3,Promise.all(n.map(function(e){return a.props.onDelete(e)}));case 3:a.onChange(r,s,i,c),a.setState({selected:[]}),a.handleCloseDelete();case 6:case"end":return e.stop()}},e)})),a.strToDate=function(e){return new Date(e).toLocaleDateString(a.props.locale)},a.strToDateTime=function(e){return new Date(e).toLocaleString(a.props.locale,{hour12:!1,year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})},a.getValue=function(e,t){var n=Kt.a.get(e,t.field);if(t.cell)return t.cell(e);switch(t.type){case"date":return a.strToDate(n);case"datetime":return a.strToDateTime(n);case"bool":return n?"T":"F";case"array":return n.map(function(e){return e[t.textField]}).join(" | ");default:return n}},a.onDeleteSingle=function(){var e=Object(ge.a)(be.a.mark(function e(t){var n,r,s,i,c;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state,r=n.filters,s=n.page,i=n.rowsPerPage,c=n.sort,e.next=3,a.props.onDelete(t);case 3:a.onChange(r,s,i,c);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleCloseDelete=function(){a.setState({isOpenDelete:!1})},a.handleOpenDelete=function(){a.setState({isOpenDelete:!0})},a.onExport=Object(ge.a)(be.a.mark(function e(){var t,n,r,s;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.filters,r=t.sort,e.next=3,a.props.onChange(n,void 0,r);case 3:(s=e.sent)&&(a.setState({exported:s.data}),a.exportRef.current.link.click());case 5:case"end":return e.stop()}},e)})),a.handleRefresh=function(){var e=a.state,t=e.filters,n=e.page,r=e.rowsPerPage,s=e.sort;a.onChange(t,n,r,s)},a.state={selected:[],page:0,rowsPerPage:5,filters:Rt(e.rows,e.filters,e.defaultFilters),sort:e.defaultSort||{field:"_id",dir:"asc"},isOpenDelete:!1,isOpenFilter:!1,filter:null,exported:[]},a.exportRef=o.a.createRef(),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.rows,r=t.sortable,s=t.title,i=t.translate,c=this.state,l=c.selected,u=c.rowsPerPage,d=c.page,p=c.sort,h=c.isOpenDelete,f=c.isOpenFilter,m=this.props.store[this.props.data],v=u-Math.min(u,m.total-d*u),b=this.props.filename||"data";return o.a.createElement(me.a,{className:a.root},o.a.createElement(xt,{numSelected:l.length,onDelete:this.handleOpenDelete,onExport:this.onExport,onFilter:this.handleOpenFilter,title:s,isFilterSet:this.state.filters.length>0,actions:this.props.actions,onRefresh:this.handleRefresh,exportDisabled:!this.props.headers}),o.a.createElement("div",{className:a.tableWrapper},o.a.createElement(zt,{isLoading:m.isLoading}),o.a.createElement(Ge.a,{className:a.table,"aria-labelledby":"tableTitle",size:"small"},o.a.createElement(ot,{numSelected:l.length,sort:p,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:m.total,rows:n,sortable:r}),o.a.createElement(Je.a,null,m.data.map(function(t){var a=e.isSelected(t._id),r=e.props.isDisabled(t);return o.a.createElement(at.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,key:t._id,selected:a},o.a.createElement($e.a,{padding:"checkbox"},o.a.createElement(Re.a,{checked:a,onClick:function(a){return e.handleClick(t._id)},disabled:r})),n.map(function(a){return o.a.createElement($e.a,{key:a.field,align:"num"===a.type?"right":"left",padding:a.disablePadding?"none":"default"},e.getValue(t,a))}),o.a.createElement($e.a,null,o.a.createElement(Wt,{onDelete:function(){return e.onDeleteSingle(t._id)},onEdit:function(){return e.props.onEdit(t)},disabled:r})))}),v>0&&o.a.createElement(at.a,{style:{height:49*v}},o.a.createElement($e.a,{colSpan:6}))))),o.a.createElement(et.a,{labelRowsPerPage:i("table.rowsPerPage"),labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," ").concat(i("table.of")," ").concat(n)},rowsPerPageOptions:[5,10,25],component:"div",count:m.total,rowsPerPage:u,page:d,backIconButtonProps:{"aria-label":i("table.previousPage")},nextIconButtonProps:{"aria-label":i("table.nextPage")},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),o.a.createElement(Nt,{isOpen:h,onClose:this.handleCloseDelete,onConfirm:this.onDeleteMultiple,title:i("table.delete"),description:i("table.sure")}),o.a.createElement(Lt,{isOpen:f,onClose:this.handleCloseFilter,onConfirm:this.handleConfirmFilter,store:this.props.store,rows:this.props.rows,filters:this.props.filters,defaultState:this.props.defaultFilters}),o.a.createElement(Vt.CSVLink,{data:this.state.exported,headers:this.props.headers,filename:"".concat(b,".csv"),style:{display:"none"},ref:this.exportRef,target:"_blank"}))}}]),t}(o.a.Component),Ht=oe(Object(te.withStyles)(function(e){return{root:{width:"100%"},table:{},tableWrapper:{overflowX:"auto",position:"relative"}}})(Yt));var Gt,Zt=Object(te.withStyles)(function(e){return{formControl:{margin:e.spacing.unit,width:160}}})(function(e){return o.a.createElement(Et.a,{onClose:e.onClose,"aria-labelledby":"simple-dialog-title",open:e.isOpen,fullWidth:!0},o.a.createElement(It.a,{id:"simple-dialog-title"},e.title),e.children)}),Jt=function(e){return[{field:"name",disablePadding:!0,label:"Name"},{field:"date",type:"date",label:"Date"},{field:"_project.name",label:"Project",type:"enum",data:"projects",idField:"projectId"},{field:"_task.name",label:"Task",type:"enum",data:"tasks",idField:"taskId",filterable:!1},{field:"_user.name",label:"User",type:"enum",data:"users",idField:"userId",filterable:void 0===e.find(function(e){return"userId"===e.field})},{field:"duration",type:"num",label:"Duration",filterable:!1}]},Xt=[{label:"Name",key:"name"},{label:"Date",key:"date"},{label:"Project",key:"project.name"},{label:"Task",key:"task.name"},{label:"User",key:"user.name"},{label:"Duration",key:"duration"}],$t=[{label:"Period",field:"period",data:[{_id:1,name:"today",filters:[{field:"date",op:"lte",value:Ft()().endOf("day").toDate()},{field:"date",op:"gte",value:Ft()().startOf("day").toDate()}]},{_id:2,name:"this week",filters:[{field:"date",op:"lte",value:Ft()().endOf("week").toDate()},{field:"date",op:"gte",value:Ft()().startOf("week").toDate()}]},{_id:3,name:"last week",filters:[{field:"date",op:"lte",value:Ft()().subtract(1,"weeks").endOf("week").toDate()},{field:"date",op:"gte",value:Ft()().subtract(1,"weeks").startOf("week").toDate()}]},{_id:4,name:"this month",filters:[{field:"date",op:"lte",value:Ft()().endOf("month").toDate()},{field:"date",op:"gte",value:Ft()().startOf("month").toDate()}]},{_id:5,name:"last month",filters:[{field:"date",op:"lte",value:Ft()().subtract(1,"month").endOf("month").toDate()},{field:"date",op:"gte",value:Ft()().subtract(1,"month").startOf("month").toDate()}]},{_id:6,name:"this year",filters:[{field:"date",op:"lte",value:Ft()().endOf("year").toDate()},{field:"date",op:"gte",value:Ft()().startOf("year").toDate()}]},{_id:7,name:"last year",filters:[{field:"date",op:"lte",value:Ft()().subtract(1,"year").endOf("month").toDate()},{field:"date",op:"gte",value:Ft()().subtract(1,"year").startOf("year").toDate()}]}]}],Qt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleClose=function(){var e=a.props.user.user,t=a.props.store,n=t.projectId;(0,t.getOpenedTasks)(n,e),a.setState({isOpen:!1})},a.handleOpen=function(){a.setState({isOpen:!0})},a.handleChange=function(){var e=Object(ge.a)(be.a.mark(function e(t,n){var r;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=[].concat(Object(Ye.a)(a.props.filters),Object(Ye.a)(t)),e.next=4,a.props.store.getTimeRecords(r,n);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),a.props.user.showError(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),a.onEdit=function(){var e=Object(ge.a)(be.a.mark(function e(t){var n;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.user.user,e.next=3,a.props.store.getOpenedTasks(t.projectId,n);case 3:a.setState({x:t,isOpen:!0});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.isDisabled=function(e){return a.props.user.user._id!==e.userId},a.state={x:null,isOpen:!1},Gt=Jt(e.filters),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(ge.a)(be.a.mark(function e(){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.props.store.getClients()}catch(t){this.props.user.showError(t)}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.store.deleteTimeRecord;return o.a.createElement("div",null,o.a.createElement(Ht,{rows:Gt,data:"timeRecords",onChange:this.handleChange,sortable:!1,onDelete:e,title:"Time records",onEdit:this.onEdit,store:this.props.store,filters:$t,defaultFilters:this.props.defaultFilters,isDisabled:this.isDisabled,headers:Xt}),o.a.createElement(Zt,{title:"Edit time record",onClose:this.handleClose,isOpen:this.state.isOpen},o.a.createElement(Ke,{data:this.state.x,onSubmit:this.handleClose})))}}]),t}(o.a.Component),ea=E(ze,j)(Qt);var ta=E(Object(te.withStyles)(function(e){return{paper:{padding:e.spacing.unit}}}),j)(function(e){var t=e.user.user;return o.a.createElement(he.a,{container:!0,spacing:16},o.a.createElement(he.a,{item:!0,xs:12},o.a.createElement(me.a,{className:e.classes.paper},o.a.createElement(Ke,null))),o.a.createElement(he.a,{item:!0,xs:12},o.a.createElement(ea,{filters:[{field:"userId",value:t._id}]})))}),aa=a(106),na=a.n(aa),ra=a(156),sa=a.n(ra),ia=a(41),ca=a.n(ia);var la=function(e){return o.a.createElement(ca.a,e,o.a.createElement("path",{d:"M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"}))},oa=function(e){return e.config?o.a.createElement(Ae.a,{fullWidth:e.fullWidth,color:"primary",tooltip:"Github",onClick:function(){var t="https://github.com/login/oauth/authorize?client_id=".concat(e.config.id,"&scope=user&redirect_uri=").concat("https://vypadnivon.sk","?provider=1");window.location.replace(t)},disabled:e.disabled},o.a.createElement(la,{fontSize:"large"})," ",o.a.createElement("span",{style:e.fullWidth?{width:200}:null},e.title)):null};var ua=function(e){return o.a.createElement(ca.a,e,o.a.createElement("path",{d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z"}))},da=function(e){return e.config?o.a.createElement(Ae.a,{fullWidth:e.fullWidth,color:"primary",onClick:function(){var t="https://accounts.google.com/o/oauth2/v2/auth?scope=https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email&redirect_uri=".concat("https://vypadnivon.sk","?provider=2&response_type=code&client_id=").concat(e.config.id);window.location.replace(t)},disabled:e.disabled},o.a.createElement(ua,{fontSize:"large"})," ",o.a.createElement("span",{style:e.fullWidth?{width:200}:null},e.title)):null};var pa=function(e){return o.a.createElement(ca.a,e,o.a.createElement("path",{d:"M14.92 17.16l1.83-3.63h2.7l-4.51 8.97l-4.57-8.97h2.7l1.85 3.63m-4.29-8.5l-2.45 4.89H4.55L10.61 1.5l6.13 12.05h-3.63l-2.48-4.89z"}))},ha=function(e){return e.config?o.a.createElement(Ae.a,{fullWidth:e.fullWidth,variant:e.variant,color:"primary",onClick:function(){var t="https://www.strava.com/oauth/authorize?client_id=".concat(e.config.id,"&response_type=code&scope=read,activity:read&redirect_uri=").concat("https://vypadnivon.sk","?provider=4");window.location.replace(t)},disabled:e.disabled},o.a.createElement(pa,{fontSize:"large"})," ",o.a.createElement("span",{style:e.fullWidth?{width:200}:null},e.title)):null};var fa=function(e){return o.a.createElement(ca.a,e,o.a.createElement("path",{d:"M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z"}))},ma=function(e){return e.config?o.a.createElement(Ae.a,{fullWidth:e.fullWidth,color:"primary",onClick:function(){var t="https://www.facebook.com/v9.0/dialog/oauth?client_id=".concat(e.config.id,"&redirect_uri=").concat("https://vypadnivon.sk","/?provider=5&state=1");window.location.replace(t)},disabled:e.disabled},o.a.createElement(fa,{fontSize:"large"})," ",o.a.createElement("span",{style:e.fullWidth?{width:200}:null},e.title)):null},va=a(29);function ba(){return o.a.createElement(G.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",o.a.createElement(sa.a,{color:"inherit",href:"https://vypadnivon.sk"},"vypadnivon ")," ",(new Date).getFullYear(),".")}var ga=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleSubmit=function(){var e=Object(ge.a)(be.a.mark(function e(t){var n,r,s,i;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({disabled:!0}),n=a.state,r=n.username,s=n.password,i=n.token,e.prev=3,e.next=6,a.props.user.auth(r.trim().toLowerCase(),s,i);case 6:null===e.sent&&a.props.user.showMsg("Unauthorized"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),a.props.user.showError(e.t0);case 13:a.setState({disabled:!1});case 14:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleClickReset=Object(ge.a)(be.a.mark(function e(){var t;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=a.state.username)){e.next=11;break}return e.prev=2,e.next=5,a.props.user.reset(t.trim().toLowerCase());case 5:a.props.user.showMsg("Mail sended."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a.props.user.showError(e.t0);case 11:case"end":return e.stop()}},e,null,[[2,8]])})),a.state={username:"",password:"",token:"",disabled:!1},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user,n=e.translate,r=this.state,s=r.username,i=r.password,c=r.disabled,l=r.oAuth,u=r.token,d=(this.props.location.state||{from:{pathname:va.home}}).from;return l?null:a.user?o.a.createElement(f.a,{to:d}):o.a.createElement(he.a,{container:!0,component:"main",className:dt()(t.root,va.header?null:t.center)},o.a.createElement(_.a,null),va.header&&o.a.createElement(he.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),o.a.createElement(he.a,{item:!0,xs:12,sm:8,md:5,component:"div",elevation:6,square:!0,className:t.container},o.a.createElement("div",{className:t.paper},o.a.createElement(na.a,{className:t.avatar,src:va.logo}),o.a.createElement(oa,{fullWidth:!0,disabled:c,title:n("githubSignIn"),config:va.github}),o.a.createElement(da,{fullWidth:!0,disabled:c,title:n("googleSignIn"),config:va.google}),o.a.createElement(ma,{fullWidth:!0,disabled:c,title:n("fbSignIn"),config:va.fb}),o.a.createElement(ha,{fullWidth:!0,disabled:c,title:n("stravaSignIn"),config:va.strava}),o.a.createElement(G.a,{variant:"body1"},n("useAccount")),o.a.createElement("form",{className:t.form,onSubmit:this.handleSubmit},o.a.createElement(Ee.a,{margin:"normal",required:!0,fullWidth:!0},o.a.createElement(Te.a,{htmlFor:"username"},n("field.username")),o.a.createElement(Se.a,{id:"username",name:"username",autoComplete:"username",autoFocus:!0,value:s,onChange:this.handleChange})),o.a.createElement(Ee.a,{margin:"normal",required:!0,fullWidth:!0},o.a.createElement(Te.a,{htmlFor:"password"},n("field.password")),o.a.createElement(Se.a,{name:"password",type:"password",id:"password",autoComplete:"current-password",value:i,onChange:this.handleChange})),va["2fa"]&&o.a.createElement(Ee.a,{margin:"normal",fullWidth:!0},o.a.createElement(Te.a,{htmlFor:"password"},n("field.token")),o.a.createElement(Se.a,{name:"token",id:"token",value:u,onChange:this.handleChange})),o.a.createElement(Ae.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:c},n("signIn")))),o.a.createElement(ba,null),o.a.createElement("img",{className:t.footer,width:"100%",alt:"websupport",src:"/img/ws.jpg",onClick:function(){return window.open("https://www.websupport.sk/?ref=NTksG1s7","_blank")}})))}}]),t}(o.a.Component),wa=E(k()(function(e){return{root:{height:"100vh"},container:{display:"flex",flexDirection:"column",minHeight:"100vh"},footer:{marginTop:"auto"},image:{backgroundImage:"url(".concat(va.header,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:8*e.spacing.unit,marginBottom:4*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing.unit,width:128,height:128},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit,marginBottom:e.spacing.unit},center:{display:"flex",alignItems:"center",flexDirection:"column"}}}),j,ze,oe)(ga),ya={name:"",collaborators:[],key:0},xa=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state=a.props.data||ya,a.handleChange=function(e,t){a.setState(Object(C.a)({},e,t))},a.handleSubmit=Object(ge.a)(be.a.mark(function e(){var t,n,r,s,i;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.store,n=t.addProject,r=t.getProjects,s=t.editProject,i=a.props.user.user,e.prev=2,!a.state._id){e.next=8;break}return e.next=6,s(a.state,i);case 6:e.next=10;break;case 8:return e.next=10,n(a.state,i);case 10:r(),a.setState(ya),a.props.onSubmit&&a.props.onSubmit(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),a.props.user.showError(e.t0);case 18:case"end":return e.stop()}},e,null,[[2,15]])})),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(ge.a)(be.a.mark(function e(){var t,a,n;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.user.getUsers,a=this.props.user.user,n=[{field:"_id",op:"ne",value:a._id}],e.prev=3,e.next=6,t(n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),this.props.user.showError(e.t0);case 11:case"end":return e.stop()}},e,this,[[3,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.name,n=t.collaborators,r=t.key,s=this.props.user.users;return o.a.createElement(Ue,{onSubmit:this.handleSubmit,inline:!0},o.a.createElement(_e,{label:"Name",value:a,field:"name",onChange:this.handleChange,required:!0}),o.a.createElement("div",{className:e.collaborators},o.a.createElement(Le,{label:"Collaborators",value:n,field:"collaborators",onChange:this.handleChange,data:s.data,textField:"name",fullWidth:!0,multiple:!0})),o.a.createElement(Ie,{value:r,field:"key",onChange:this.handleChange,min:0,step:1,required:!0}))}}]),t}(o.a.Component),ka=E(Object(te.withStyles)(function(e){return{collaborators:{display:"flex",flex:1}}}),ze,j)(xa),Ea=a(317),Oa=a.n(Ea),ja=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).onDelete=function(){var e=Object(ge.a)(be.a.mark(function e(t){var n,r,s;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.onDelete,s=n.onChange,e.next=3,r(t);case 3:s();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.onChange()}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.onClick,r=t.primaryTextField,s=t.secondaryTextField,i=t.onEdit,c=t.isDisabled,l=t.classes;return o.a.createElement(me.a,{className:l.listWrapper},o.a.createElement(zt,{isLoading:a.isLoading}),o.a.createElement(A.a,null,a.data.map(function(t){return o.a.createElement(U.a,{key:t._id,button:!0,onClick:function(){return n(t._id)}},o.a.createElement(z.a,{primary:Kt.a.get(t,r),secondary:s?Kt.a.get(t,s):null}),o.a.createElement(Oa.a,null,o.a.createElement(Wt,{disabled:c(t),onEdit:function(){return i(t)},onDelete:function(){return e.onDelete(t._id)}})))})))}}]),t}(o.a.Component),Ca=Object(te.withStyles)(function(e){return{listWrapper:{position:"relative"}}})(ja),Sa=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={x:null,isOpen:!1},a.handleClose=function(){a.setState({isOpen:!1})},a.handleOpen=function(){a.setState({isOpen:!0})},a.handleClick=function(){var e=Object(ge.a)(be.a.mark(function e(t){var n;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.props.history.location.pathname+"/"+t,a.props.history.push(n);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){try{a.props.store.getProjects(a.props.user.user)}catch(t){a.props.user.showError(t)}},a.handleEdit=function(e){a.setState({x:e,isOpen:!0})},a.handleDelete=function(){var e=Object(ge.a)(be.a.mark(function e(t){var n;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.store.deleteProject,e.prev=1,e.next=4,n(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),a.props.user.showError(e.t0);case 9:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}(),a.isDisabled=function(e){return a.props.user.user._id!==e.userId},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.store.projects;return o.a.createElement("div",{className:e.list},o.a.createElement(Ca,{data:t,primaryTextField:"name",onClick:this.handleClick,onChange:this.handleChange,onEdit:this.handleEdit,onDelete:this.handleDelete,isDisabled:this.isDisabled}),o.a.createElement(Zt,{title:"Edit project",onClose:this.handleClose,isOpen:this.state.isOpen},o.a.createElement(ka,{data:this.state.x,onSubmit:this.handleClose})))}}]),t}(o.a.Component),Da=E(Object(te.withStyles)(function(e){return{list:{marginTop:e.spacing.unit}}}),ze,j,f.f)(Sa);var Ta=Object(te.withStyles)(function(e){return{paper:{padding:e.spacing.unit}}})(function(e){return o.a.createElement(he.a,{container:!0,spacing:24},o.a.createElement(he.a,{item:!0,xs:12},o.a.createElement(me.a,{className:e.classes.paper},o.a.createElement(ka,null)),o.a.createElement(Da,null)))}),_a={name:"",assignedToId:null,stateId:null,typeId:null},Ia=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state=a.props.data||_a,a.handleChange=function(e,t){a.setState(Object(C.a)({},e,t))},a.handleSubmit=Object(ge.a)(be.a.mark(function e(){var t,n,r,s,i;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.store,n=t.addTask,r=t.refreshTasks,s=t.editTask,i=a.props.user.user,e.prev=2,!a.state._id){e.next=8;break}return e.next=6,s(a.state);case 6:e.next=10;break;case 8:return e.next=10,n(a.state,i,a.props.projectId);case 10:r(),a.setState(_a),a.props.onSubmit&&a.props.onSubmit(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),a.props.user.showError(e.t0);case 18:case"end":return e.stop()}},e,null,[[2,15]])})),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.store.enums,a=this.state,n=a.name,r=a.assignedToId,s=a.stateId,i=a.typeId,c=this.props.store.users;return o.a.createElement(Ue,{onSubmit:this.handleSubmit,inline:!0},o.a.createElement("div",{className:e.name},o.a.createElement(_e,{label:"Name",value:n,field:"name",onChange:this.handleChange,required:!0,fullWidth:!0})),o.a.createElement(Le,{label:"Assigned to",value:r,field:"assignedToId",onChange:this.handleChange,data:c.data,textField:"name"}),o.a.createElement(Le,{label:"State",value:s,field:"stateId",onChange:this.handleChange,data:t.data.filter(function(e){return 3===e.enumTypeId}),required:!0,textField:"name"}),o.a.createElement(Le,{label:"Type",value:i,field:"typeId",onChange:this.handleChange,data:t.data.filter(function(e){return 4===e.enumTypeId}),textField:"name"}))}}]),t}(o.a.Component),Na=E(Object(te.withStyles)(function(e){return{name:{display:"flex",flex:1}}}),ze,j)(Ia),Pa=[{field:"name",disablePadding:!0,label:"Name"},{field:"_assignedTo.name",label:"Assigned to",type:"enum",data:"users",idField:"assignedToId",sortable:!1},{field:"_state.name",label:"State",type:"enum",data:"enums",idField:"stateId",sortable:!1,getData:function(e){return e.filter(function(e){return 3===e.enumTypeId})}},{field:"_type.name",label:"Label",type:"enum",data:"enums",idField:"typeId",sortable:!1,getData:function(e){return e.filter(function(e){return 4===e.enumTypeId})}}],Fa=[{label:"Name",key:"name"},{label:"Assigned to",key:"assignedTo.name"},{label:"State",key:"state.name"}],Ra=[],La=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={x:null,isOpen:!1},a.handleClose=function(){a.setState({isOpen:!1})},a.handleOpen=function(){a.setState({isOpen:!0})},a.handleChange=function(){var e=Object(ge.a)(be.a.mark(function e(t,n,r){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.props.store.getTasks(a.props.projectId,t,n,r);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),a.props.user.showError(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,a,n){return e.apply(this,arguments)}}(),a.onEdit=function(e){a.setState({x:e,isOpen:!0})},a.isDisabled=function(e){return a.props.user.user._id!==e.userId&&a.props.user.user._id!==e.assignedToId},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.store,t=e.deleteTask,a=e.project,n=a?"".concat(a.name,"_tasks"):null;return o.a.createElement("div",null,o.a.createElement(Ht,{rows:Pa,data:"tasks",onChange:this.handleChange,onDelete:t,title:"Tasks",onEdit:this.onEdit,store:this.props.store,filters:Ra,isDisabled:this.isDisabled,filename:n,headers:Fa}),o.a.createElement(Zt,{title:"Edit task",onClose:this.handleClose,isOpen:this.state.isOpen},o.a.createElement(Na,{data:this.state.x,onSubmit:this.handleClose})))}}]),t}(o.a.Component),Ma=E(ze,j)(La),Aa=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(ge.a)(be.a.mark(function e(){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.store.getProject(this.props.match.params.id);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.props.user.showError(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement(he.a,{container:!0,spacing:24},o.a.createElement(he.a,{item:!0,xs:12},o.a.createElement(me.a,{className:this.props.classes.paper},o.a.createElement(Na,{projectId:this.props.match.params.id}))),o.a.createElement(he.a,{item:!0,xs:12},o.a.createElement(Ma,{projectId:this.props.match.params.id})))}}]),t}(o.a.Component),Wa=E(Object(te.withStyles)(function(e){return{paper:{padding:e.spacing.unit}}}),ze)(Aa);var Ua=Object(te.withStyles)(function(e){return{formControl:{margin:e.spacing.unit,width:160}}})(function(e){return o.a.createElement(Et.a,{onClose:e.onClose,"aria-labelledby":"simple-dialog-title",open:e.isOpen,fullWidth:!0},o.a.createElement(It.a,{id:"simple-dialog-title"},e.title),e.children,o.a.createElement(jt.a,null,e.onCancel&&o.a.createElement(Ae.a,{onClick:e.onCancel,color:"primary"},"Cancel"),e.onConfirm&&o.a.createElement(Ae.a,{onClick:e.onConfirm,color:"primary",autoFocus:!0},"OK")))}),qa=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.defaultValue,n=e.tooltip,r=e.onClick,s=e.className,i=e.placement;return o.a.createElement(lt.a,{title:n,"aria-label":n,placement:i},o.a.createElement(na.a,{style:{textTransform:"uppercase"},alt:a,src:t?"data:image/jpeg;base64,"+t:null,onClick:r,className:s},n[0]))}}]),t}(o.a.Component),za=Object(te.withStyles)(function(e){return{}})(qa),Va=function(e){return{col:{display:"flex",flex:1,flexDirection:"column",marginBottom:e.spacing.unit},row:{display:"flex",flexWrap:"wrap",flexDirection:"row"},center:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},paper:{padding:e.spacing.unit},flex:{display:"flex"},grow:{display:"flex",flex:1}}},Ba=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).resize=function(e,t){return new Promise(function(n){var r=new Image,s=a.canvasRef.current;r.onload=function(){r.height>t&&(r.width*=t/r.height,r.height=t);var e=s.getContext("2d");e.clearRect(0,0,s.width,s.height),s.width=r.width,s.height=r.height,e.drawImage(r,0,0,r.width,r.height);var a=s.toDataURL("image/jpeg");n(a)},r.src=e})},a.onChange=function(e){e.preventDefault();var t=new FileReader;t.onloadend=Object(ge.a)(be.a.mark(function e(){var n;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.resize(t.result,320);case 2:n=(n=e.sent).split(",").pop(),a.props.onChange(a.props.field,n);case 5:case"end":return e.stop()}},e)})),t.readAsDataURL(e.target.files[0])},a.onClick=function(){a.props.disabled||a.inputRef.current.click()},a.inputRef=o.a.createRef(),a.canvasRef=o.a.createRef(),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.value,n=e.tooltip,r=e.disabled;return o.a.createElement("div",{className:t.center,style:{cursor:r?"default":"pointer"}},o.a.createElement(za,{className:t.bigAvatar,value:a,onClick:this.onClick,tooltip:n,placement:"right"}),o.a.createElement("input",{ref:this.inputRef,style:{display:"none"},type:"file",accept:"image/jpeg",onChange:this.onChange}),o.a.createElement("canvas",{style:{display:"none"},ref:this.canvasRef}))}}]),t}(o.a.Component),Ka=Object(te.withStyles)(function(e){return Object(re.a)({},Va(e),{bigAvatar:{margin:e.spacing.unit,width:80,height:80}})})(Ba),Ya=a(318),Ha=a.n(Ya),Ga=a(319),Za=a.n(Ga);var Ja=Object(te.withStyles)(function(e){return{formControl:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit}}})(function(e){var t=e.classes;return o.a.createElement(Ha.a,{className:t.formControl,control:o.a.createElement(Za.a,{checked:e.value,onChange:function(t){return e.onChange(e.field,t.target.checked)},value:e.field,disabled:e.disabled}),label:e.label})}),Xa={password:{value:"",errorText:""},repeatedPassword:{value:"",errorText:""},email:{value:"",isLoading:!1,errorText:""},name:"",username:{value:"",isLoading:!1,errorText:""},tel:"",address:"",city:"",postCode:"",country:"",otp:!1,avatar:null},$a=function(e){return Object(re.a)({},Xa,e,{email:Object(re.a)({},Xa.email,{value:e.email}),username:Object(re.a)({},Xa.username,{value:e.username}),isOpenSecretDialog:!1,avatarChanged:!1})},Qa=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state=$a(a.props.user.user),a.handleChange=function(e,t){a.setState(function(a){return Kt.a.set(a,e,t)})},a.validPasswords=function(){var e=a.state,t=e.password,n=e.repeatedPassword,r=a.props.translate,s=new RegExp(va.passwordPattern),i=!t.value||s.test(t.value),c=i?"":r("field.passwordWeak"),l=t.value===n.value,o=l?"":r("field.passwordNoMatch");return a.setState(function(e){return{password:Object(re.a)({},e.password,{errorText:c}),repeatedPassword:Object(re.a)({},a.state.repeatedPassword,{errorText:o})}}),i&&l},a.validEmail=Object(ge.a)(be.a.mark(function e(){var t,n,r,s;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.translate,n=a.state.email,a.setState(function(e){return{email:Object(re.a)({},e.email,{isLoading:!0})}}),e.t0=!n.value,e.t0){e.next=8;break}return e.next=7,a.isValid(n.value);case 7:e.t0=e.sent;case 8:return r=e.t0,s=r?"":t("field.emailInUse"),a.setState(function(e){return{email:Object(re.a)({},e.email,{errorText:s,isLoading:!1})}}),e.abrupt("return",r);case 12:case"end":return e.stop()}},e)})),a.isValid=function(){var e=Object(ge.a)(be.a.mark(function e(t){var n,r;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.user,e.next=3,a.props.user.checkUser(t);case 3:return r=e.sent,e.abrupt("return",0===r.length||1===r.length&&r[0]._id===n.user._id);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.validUsername=Object(ge.a)(be.a.mark(function e(){var t,n,r,s;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.translate,n=a.state.username,a.setState(function(e){return{username:Object(re.a)({},e.username,{isLoading:!0})}}),e.t0=!n.value,e.t0){e.next=8;break}return e.next=7,a.isValid(n.value);case 7:e.t0=e.sent;case 8:return r=e.t0,s=r?"":t("field.usernameInUse"),a.setState(function(e){return{username:Object(re.a)({},e.username,{errorText:s,isLoading:!1})}}),e.abrupt("return",r);case 12:case"end":return e.stop()}},e)})),a.handleChangeAvatar=function(e,t){var n;a.setState((n={},Object(C.a)(n,e,t),Object(C.a)(n,"avatarChanged",!0),n))},a.generateSecret=Object(ge.a)(be.a.mark(function e(){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.props.user.generateSecret();case 3:a.handleOpenSecretDialog(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a.props.user.showError(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),a.handleOpenSecretDialog=function(){a.setState({isOpenSecretDialog:!0})},a.handleCloseSecretDialog=function(){a.setState({isOpenSecretDialog:!1})},a.handleSubmit=Object(ge.a)(be.a.mark(function e(){var t,n,r,s,i,c,l,o,u,d,p,h,f;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.password,r=t.name,s=t.username,i=t.email,c=t.tel,l=t.address,o=t.city,u=t.postCode,d=t.country,p=t.otp,h=t.avatar,f=t.avatarChanged,e.t1=a.validPasswords(),!e.t1){e.next=6;break}return e.next=5,a.validEmail();case 5:e.t1=e.sent;case 6:if(e.t0=e.t1,!e.t0){e.next=11;break}return e.next=10,a.validUsername();case 10:e.t0=e.sent;case 11:if(e.t0){e.next=14;break}return e.abrupt("return");case 14:return e.prev=14,e.next=17,a.props.user.updateUser(a.state._id,{email:i.value,password:n.value,name:r,username:s.value,tel:c,address:l,city:o,postCode:u,country:d,otp:p,avatar:f?h:null});case 17:a.setState($a(a.props.user.user)),a.props.user.showMsg("Ok."),e.next=24;break;case 21:e.prev=21,e.t2=e.catch(14),a.props.user.showError(e.t2);case 24:case"end":return e.stop()}},e,null,[[14,21]])})),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.disabled,n=this.state,r=n.password,s=n.repeatedPassword,i=n.username,c=n.name,l=n.email,u=n.tel,d=n.otp,p=n.avatar,h=n.address,f=n.city,m=n.postCode,v=n.country;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ue,{onSubmit:this.handleSubmit,disabled:a},o.a.createElement(Ka,{field:"avatar",onChange:this.handleChangeAvatar,value:p,disabled:a,tooltip:c||""}),o.a.createElement(_e,{value:c,field:"name",onChange:this.handleChange,required:!0,disabled:a}),o.a.createElement("div",{className:t.row},o.a.createElement("div",{className:t.col},o.a.createElement(_e,{type:"email",value:l.value,field:"email.value",onChange:this.handleChange,disabled:a||l.isLoading,onBlur:this.validEmail,errorText:l.errorText,required:!0})),o.a.createElement("div",{className:t.col},o.a.createElement(_e,{value:u,field:"tel",onChange:this.handleChange,disabled:a}))),o.a.createElement(_e,{value:i.value,field:"username.value",onChange:this.handleChange,required:!0,disabled:a||i.isLoading,onBlur:this.validUsername,errorText:i.errorText}),o.a.createElement("div",{className:t.row},o.a.createElement("div",{className:t.col},o.a.createElement(_e,{value:r.value,field:"password.value",type:"new-password",onChange:this.handleChange,disabled:a,onBlur:this.validPasswords,errorText:r.errorText})),o.a.createElement("div",{className:t.col},o.a.createElement(_e,{value:s.value,field:"repeatedPassword.value",type:"password",onChange:this.handleChange,disabled:a,onBlur:this.validPasswords,errorText:s.errorText}))),o.a.createElement("div",{className:t.row},o.a.createElement("div",{className:t.col},o.a.createElement(_e,{value:h,field:"address",type:"address",onChange:this.handleChange,disabled:a})),o.a.createElement("div",{className:t.col},o.a.createElement(_e,{value:m,field:"postCode",type:"postCode",onChange:this.handleChange,disabled:a}))),o.a.createElement("div",{className:t.row},o.a.createElement("div",{className:t.col},o.a.createElement(_e,{value:f,field:"city",type:"city",onChange:this.handleChange,disabled:a})),o.a.createElement("div",{className:t.col},o.a.createElement(_e,{value:v,field:"country",type:"country",onChange:this.handleChange,disabled:a}))),va["2fa"]&&o.a.createElement("div",{className:t.row},o.a.createElement("div",{className:t.col},o.a.createElement("div",null,o.a.createElement(Ja,{value:d,field:"otp",onChange:this.handleChange,disabled:a}),o.a.createElement(Ae.a,{color:"primary",disabled:a||!this.state.otp,onClick:this.generateSecret},this.props.translate("generateSecret")))))),o.a.createElement(Ua,{title:this.props.translate("secret"),isOpen:this.state.isOpenSecretDialog,onConfirm:this.handleCloseSecretDialog},o.a.createElement("div",{className:t.center},this.props.user.secret&&o.a.createElement("img",{src:"data:image/jpeg;base64,"+this.props.user.secret.qrCode,alt:"secret",width:320,height:320}))))}}]),t}(o.a.Component),en=E(Object(te.withStyles)(function(e){return Object(re.a)({},Va(e),{heading:{marginLeft:e.spacing.unit},detailHeading:{marginLeft:e.spacing.unit,marginTop:3*e.spacing.unit},actions:{float:"right",margin:e.spacing.unit}})}),ze,j,oe)(Qa),tn={user:1,store:2,mail:4,file:8,report:16,tags:1024,tasks:2048,events:4096,enums:2,activities:va.strava?2:16};var an=E(Object(te.withStyles)(function(e){return{paper:{padding:e.spacing.unit},heading:{marginLeft:e.spacing.unit},connected:{padding:e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"flex-start"}}}),j,oe)(function(e){var t=e.user,a=t.user,n=!(0,t.hasPermission)(tn.user),r=e.translate("connect");return o.a.createElement(he.a,{container:!0,spacing:16},o.a.createElement(he.a,{item:!0,xs:12,sm:8},o.a.createElement(me.a,{className:e.classes.paper},o.a.createElement(en,{disabled:n}))),o.a.createElement(he.a,{item:!0,xs:12,sm:4},o.a.createElement(me.a,{className:e.classes.connected},o.a.createElement(G.a,{variant:"h6",className:e.classes.heading},e.translate("connected")),o.a.createElement(oa,{config:va.github,disabled:n||a.github,title:e.user.user.github?e.user.user.github.name:r}),o.a.createElement(da,{config:va.google,disabled:n||a.google,title:e.user.user.google?e.user.user.google.name:r}),o.a.createElement(ma,{config:va.fb,disabled:n||a.fb,title:e.user.user.fb?e.user.user.fb.name:r}),o.a.createElement("div",null,o.a.createElement(ha,{config:va.strava,disabled:n,title:e.user.user.strava?e.translate("sync"):r}),va.strava&&e.user.user.strava&&e.user.user.strava.synced&&o.a.createElement("span",null," (",e.translate("lastSync")," ",new Date(e.user.user.strava.synced).toLocaleDateString(e.locale),") ")))))}),nn=a(54),rn=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.store.dateStats,t=this.props.theme;return o.a.createElement(me.a,{className:this.props.classes.paper},o.a.createElement(nn.b,{width:800,height:300,data:e.data},o.a.createElement(nn.c,{strokeDasharray:"3 3"}),o.a.createElement(nn.g,{dataKey:"name"}),o.a.createElement(nn.h,null),o.a.createElement(nn.f,null),o.a.createElement(nn.a,{dataKey:"duration",fill:t.palette.primary.main})))}}]),t}(l.PureComponent),sn=E(ze,Object(te.withStyles)(function(e){return{paper:{width:"100%",padding:e.spacing.unit,overflowX:"auto",margin:"auto"}}}),Object(te.withTheme)())(rn),cn=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.store,t=e.projectStats,a=e.userStats,n=this.props.theme;return o.a.createElement(me.a,{className:this.props.classes.paper},o.a.createElement(nn.e,{width:300,height:300},o.a.createElement(nn.d,{dataKey:"val",data:t.data,cx:150,cy:150,innerRadius:80,outerRadius:100,fill:n.palette.secondary.main,label:!0}),o.a.createElement(nn.d,{dataKey:"val",isAnimationActive:!1,data:a.data,cx:150,cy:150,outerRadius:70,fill:n.palette.primary.main}),o.a.createElement(nn.f,null)))}}]),t}(l.PureComponent),ln=E(ze,Object(te.withStyles)(function(e){return{paper:{padding:e.spacing.unit,display:"flex",justifyContent:"center"}}}),Object(te.withTheme)())(cn);var on,un,dn,pn=Object(te.withStyles)(function(e){return{paper:{padding:e.spacing.unit}}})(function(e){return o.a.createElement(he.a,{container:!0,spacing:16},o.a.createElement(he.a,{item:!0,xs:12,md:4,className:e.classes.center},o.a.createElement(ln,null)),o.a.createElement(he.a,{item:!0,xs:12,md:8},o.a.createElement(sn,null)),o.a.createElement(he.a,{item:!0,xs:12},o.a.createElement(ea,{filters:[],defaultFilters:{period:4}})))}),hn=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(s.a)(this,Object(i.a)(t).call(this,e));var r=new URLSearchParams(a.props.location.search);return un=r.get("provider"),on=r.get("code"),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(ge.a)(be.a.mark(function e(){var t;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!un||dn){e.next=22;break}if(dn=!0,t=this.props.user,e.prev=3,!t.user){e.next=10;break}return e.next=7,t.updateOauth(un,on);case 7:this.props.history.replace("/account"),e.next=15;break;case 10:return e.next=12,t.oAuth(un,on);case 12:if(e.sent){e.next=14;break}t.showMsg("Unauthorized");case 14:this.props.history.replace(va.home);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),this.props.user.showError(e.t0),this.props.history.replace("/login");case 21:dn=!1;case 22:case"end":return e.stop()}},e,this,[[3,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.translate;return un?o.a.createElement("main",{className:t.main},o.a.createElement(_.a,null),o.a.createElement(me.a,{className:t.paper},o.a.createElement(na.a,{className:t.avatar,src:va.logo}),o.a.createElement("div",{className:t.loader},o.a.createElement(G.a,{component:"h1",variant:"h5"},a("loading"))))):o.a.createElement(f.a,{to:{pathname:va.home}})}}]),t}(o.a.Component),fn=E(k()(function(e){return{main:Object(C.a)({width:"100%",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,width:128,height:128},loader:{marginTop:e.spacing.unit}}}),j,ze,oe)(hn),mn={name:"",address:"",ico:"",dic:"",icdph:"",rate:0,reportId:"",activity:""},vn=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state=a.props.data||mn,a.handleChange=function(e,t){a.setState(Object(C.a)({},e,t))},a.handleSubmit=Object(ge.a)(be.a.mark(function e(){var t,n,r,s,i;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.store,n=t.addClient,r=t.getClients,s=t.editClient,i=a.props.user.user,e.prev=2,!a.state._id){e.next=8;break}return e.next=6,s(a.state,i);case 6:e.next=10;break;case 8:return e.next=10,n(a.state,i);case 10:r(),a.props.onSubmit&&a.props.onSubmit(),a.setState(mn),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),a.props.user.showError(e.t0);case 18:case"end":return e.stop()}},e,null,[[2,15]])})),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.disabled,n=this.state,r=n.name,s=n.address,i=n.ico,c=n.dic,l=n.icdph,u=n.rate,d=n.reportId,p=n.activity;return o.a.createElement(Ue,{onSubmit:this.handleSubmit,disabled:a},o.a.createElement("div",{className:t.row},o.a.createElement("div",{className:t.col},o.a.createElement(_e,{label:"Name",value:r,field:"name",onChange:this.handleChange,required:!0,disabled:a}))),o.a.createElement("div",{className:t.row},o.a.createElement("div",{className:t.col},o.a.createElement(_e,{className:t.col,label:"Address",value:s,field:"address",onChange:this.handleChange,required:!0,disabled:a}))),o.a.createElement("div",{className:t.row},o.a.createElement("div",{className:t.col},o.a.createElement(_e,{label:"I\u010cO",value:i,field:"ico",onChange:this.handleChange,required:!0,disabled:a})),o.a.createElement("div",{className:t.col},o.a.createElement(_e,{className:t.col,label:"DI\u010c",value:c,field:"dic",onChange:this.handleChange,required:!0,disabled:a})),o.a.createElement("div",{className:t.col},o.a.createElement(_e,{className:t.col,label:"I\u010c DPH",value:l,field:"icdph",onChange:this.handleChange,required:!0,disabled:a}))),o.a.createElement("div",{className:t.row},o.a.createElement("div",{className:t.col},o.a.createElement(_e,{label:"Activity",value:p,field:"activity",onChange:this.handleChange,required:!0,disabled:a})),o.a.createElement("div",{className:t.col},o.a.createElement(Ie,{label:"Rate",value:u,field:"rate",onChange:this.handleChange,min:0,step:.5,required:!0})),o.a.createElement("div",{className:t.col},o.a.createElement(_e,{className:t.col,label:"ReportId",value:d,field:"reportId",onChange:this.handleChange,required:!0,disabled:a}))))}}]),t}(o.a.Component),bn=E(Object(te.withStyles)(function(e){return Object(re.a)({},Va(e))}),ze,j)(vn),gn=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={x:null,isOpen:!1},a.handleClose=function(){a.setState({isOpen:!1})},a.handleOpen=function(){a.setState({isOpen:!0})},a.handleClick=function(){var e=Object(ge.a)(be.a.mark(function e(t){var n;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.props.history.location.pathname+"/"+t,a.props.history.push(n);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){try{a.props.store.getClients()}catch(t){a.props.user.showError(t)}},a.handleEdit=function(e){a.setState({x:e,isOpen:!0})},a.handleDelete=function(){var e=Object(ge.a)(be.a.mark(function e(t){var n;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.store.deleteClient,e.prev=1,e.next=4,n(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),a.props.user.showError(e.t0);case 9:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}(),a.isDisabled=function(e){return a.props.user.user._id!==e.userId},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.store.clients;return o.a.createElement("div",{className:e.list},o.a.createElement(Ca,{data:t,primaryTextField:"name",onClick:this.handleClick,onChange:this.handleChange,onEdit:this.handleEdit,onDelete:this.handleDelete,isDisabled:this.isDisabled}),o.a.createElement(Zt,{title:"Edit client",onClose:this.handleClose,isOpen:this.state.isOpen},o.a.createElement(bn,{data:this.state.x,onSubmit:this.handleClose})))}}]),t}(o.a.Component),wn=E(Object(te.withStyles)(function(e){return{list:{marginTop:e.spacing.unit}}}),ze,j,f.f)(gn);var yn=Object(te.withStyles)(function(e){return{paper:{padding:e.spacing.unit}}})(function(e){return o.a.createElement(he.a,{container:!0,spacing:24},o.a.createElement(he.a,{item:!0,xs:12},o.a.createElement(me.a,{className:e.classes.paper},o.a.createElement(bn,null)),o.a.createElement(wn,null)))});var xn=Object(te.withStyles)(function(e){return{formControl:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,minWidth:160}}})(function(e){var t=e.classes;return o.a.createElement(we.b,{className:t.formControl,keyboard:!0,ampm:!1,label:e.label,format:"MM/DD/YYYY HH:mm",clearable:!e.required,mask:function(e){return e?[/\d/,/\d/,"/",/\d/,/\d/,"/",/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,":",/\d/,/\d/]:[]},value:e.value||null,onChange:function(t){return e.onChange(e.field,t?t.toDate():null)},disableOpenOnEnter:!0,animateYearScrolling:!1,style:{flex:1,display:"flex"},disabled:e.disabled})}),kn=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).getInitState=function(e){var t=e.date||Ft()().add(1,"days").toDate();return{start:t,end:t,name:"",eventTypeId:null}},a.handleChange=function(e,t){a.setState(Object(C.a)({},e,t))},a.handleChangeStart=function(e,t){t.getTime()>a.state.end.getTime()?a.setState({start:t,end:t}):a.setState({start:t})},a.handleChangeEnd=function(e,t){t.getTime()<a.state.start.getTime()?a.setState({start:t,end:t}):a.setState({end:t})},a.handleSubmit=Object(ge.a)(be.a.mark(function e(){var t,n,r,s,i;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.store,n=t.addEvent,r=t.refreshEvents,s=t.editEvent,i=a.props.user.user,e.prev=2,!a.state._id){e.next=8;break}return e.next=6,s(a.state,i);case 6:e.next=10;break;case 8:return e.next=10,n(a.state,i);case 10:r(),a.setState(a.getInitState(a.props)),a.props.onSubmit&&a.props.onSubmit(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),a.props.user.showError(e.t0);case 18:case"end":return e.stop()}},e,null,[[2,15]])})),a.state=e.data||a.getInitState(e),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.disabled,n=this.state,r=n.name,s=n.eventTypeId,i=n.start,c=n.end,l=this.props.store.enums;return o.a.createElement(Ue,{onSubmit:this.handleSubmit,inline:!0,disabled:a},o.a.createElement("div",{className:t.nameTextInput},o.a.createElement(_e,{label:"Name",value:r,field:"name",onChange:this.handleChange,fullWidth:!0,required:!0,disabled:a})),o.a.createElement(Le,{label:"Type",value:s,field:"eventTypeId",onChange:this.handleChange,data:l.data,textField:"name",disabled:a}),o.a.createElement("div",{className:t.nameTextInput},o.a.createElement(xn,{label:"Start",value:i,field:"start",onChange:this.handleChangeStart,required:!0,disabled:a}),o.a.createElement(xn,{label:"End",value:c,field:"end",onChange:this.handleChangeEnd,required:!0,disabled:a})))}}]),t}(o.a.Component),En=E(Object(te.withStyles)(function(e){return{nameTextInput:{display:"flex",flex:1}}}),ze,j)(kn),On=[{field:"name",disablePadding:!0,label:"Name"},{field:"_eventType.name",label:"Type",type:"enum",data:"enums",idField:"eventTypeId"},{field:"start",type:"datetime",label:"Start",filterable:!1},{field:"end",type:"datetime",label:"End",filterable:!1},{field:"_user.name",label:"User",type:"enum",data:"users",idField:"userId"}],jn=[{label:"Name",key:"name"},{label:"Type",key:"_eventType.name"},{label:"Start",key:"start"},{label:"End",key:"end"},{label:"User",key:"_user.name"}],Cn=[{label:"Period",field:"period",data:[{_id:1,name:"today",filters:[{field:"start",op:"lte",value:Ft()().endOf("day").toDate()},{field:"start",op:"gte",value:Ft()().startOf("day").toDate()}]},{_id:2,name:"this week",filters:[{field:"start",op:"lte",value:Ft()().endOf("week").toDate()},{field:"start",op:"gte",value:Ft()().startOf("week").toDate()}]},{_id:3,name:"last week",filters:[{field:"start",op:"lte",value:Ft()().subtract(1,"weeks").endOf("week").toDate()},{field:"start",op:"gte",value:Ft()().subtract(1,"weeks").startOf("week").toDate()}]},{_id:4,name:"this month",filters:[{field:"start",op:"lte",value:Ft()().endOf("month").toDate()},{field:"start",op:"gte",value:Ft()().startOf("month").toDate()}]},{_id:5,name:"last month",filters:[{field:"start",op:"lte",value:Ft()().subtract(1,"month").endOf("month").toDate()},{field:"start",op:"gte",value:Ft()().subtract(1,"month").startOf("month").toDate()}]}]}],Sn=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleChangeClient=function(e,t){a.setState({clientId:t})},a.handleClose=function(){a.setState({isOpen:!1})},a.handleOpen=function(){a.setState({isOpen:!0})},a.handleChange=function(){var e=Object(ge.a)(be.a.mark(function e(t,n){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.props.store.getEvents(t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),a.props.user.showError(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,a){return e.apply(this,arguments)}}(),a.onEdit=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({x:t,isOpen:!0});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.isDisabled=function(e){return a.props.user.user._id!==e.userId},a.state={x:null,isOpen:!1},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.store.deleteEvent;return o.a.createElement("div",null,o.a.createElement(Ht,{rows:On,data:"events",onChange:this.handleChange,sortable:!1,onDelete:e,title:"Events",onEdit:this.onEdit,store:this.props.store,filters:Cn,isDisabled:this.isDisabled,headers:jn}),o.a.createElement(Zt,{title:"Edit event",onClose:this.handleClose,isOpen:this.state.isOpen},o.a.createElement(En,{data:this.state.x,onSubmit:this.handleClose})))}}]),t}(o.a.Component),Dn=E(ze,j)(Sn);var Tn=E(Object(te.withStyles)(function(e){return{paper:{padding:e.spacing.unit}}}),j)(function(e){return o.a.createElement(he.a,{container:!0,spacing:16},o.a.createElement(he.a,{item:!0,xs:12},o.a.createElement(me.a,{className:e.classes.paper},o.a.createElement(En,null))),o.a.createElement(he.a,{item:!0,xs:12},o.a.createElement(Dn,null)))}),_n={name:"",enumTypeId:1,disabled:!1,key:0},In=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleChange=function(e,t){a.setState(Object(C.a)({},e,t))},a.handleSubmit=Object(ge.a)(be.a.mark(function e(){var t,n,r,s;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.store,n=t.addEnum,r=t.refreshEnums,s=t.editEnum,e.prev=1,!a.state._id){e.next=7;break}return e.next=5,s(a.state);case 5:e.next=9;break;case 7:return e.next=9,n(a.state);case 9:r(),a.setState(_n),a.props.onSubmit&&a.props.onSubmit(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),a.props.user.showError(e.t0);case 17:case"end":return e.stop()}},e,null,[[1,14]])})),a.state=e.data||_n,a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.disabled,n=this.state,r=n.name,s=n.enumTypeId,i=n.key,c=this.props.store.enumTypes;return o.a.createElement(Ue,{onSubmit:this.handleSubmit,inline:!0,disabled:a},o.a.createElement("div",{className:t.nameTextInput},o.a.createElement(_e,{value:r,field:"name",onChange:this.handleChange,fullWidth:!0,required:!0,disabled:a})),o.a.createElement(Le,{value:s,field:"enumTypeId",onChange:this.handleChange,data:c.data,textField:"name",required:!0,disabled:a}),o.a.createElement(Ie,{value:i,field:"key",onChange:this.handleChange,min:0,step:1,required:!0}),o.a.createElement(Ja,{label:"",value:this.state.disabled,field:"disabled",onChange:this.handleChange}))}}]),t}(o.a.Component),Nn=E(Object(te.withStyles)(function(e){return{nameTextInput:{display:"flex",flex:1}}}),ze,j)(In),Pn=[{field:"name",disablePadding:!0},{field:"_enumType.name",type:"enum",data:"enumTypes",idField:"enumTypeId",sortable:!1},{field:"key",type:"num"},{field:"disabled",type:"bool"}],Fn=[{label:"Name",key:"name"},{label:"Type",key:"enumType.name"}],Rn=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleChangeClient=function(e,t){a.setState({clientId:t})},a.handleClose=function(){a.setState({isOpen:!1})},a.handleOpen=function(){a.setState({isOpen:!0})},a.handleChange=function(){var e=Object(ge.a)(be.a.mark(function e(t,n,r){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.props.store.getEnums(t,r,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),a.props.user.showError(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,a,n){return e.apply(this,arguments)}}(),a.onEdit=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({x:t,isOpen:!0});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.isDisabled=function(e){return!1},a.state={x:null,isOpen:!1},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.store.deleteEnum,t=this.props.translate;return o.a.createElement("div",null,o.a.createElement(Ht,{rows:Pn,data:"enums",onChange:this.handleChange,onDelete:e,title:t("enums"),onEdit:this.onEdit,store:this.props.store,filters:[],isDisabled:this.isDisabled,headers:Fn}),o.a.createElement(Zt,{title:t("enum"),onClose:this.handleClose,isOpen:this.state.isOpen},o.a.createElement(Nn,{data:this.state.x,onSubmit:this.handleClose})))}}]),t}(o.a.Component),Ln=E(ze,j,oe)(Rn);var Mn=E(Object(te.withStyles)(function(e){return{paper:{padding:e.spacing.unit}}}),j)(function(e){return o.a.createElement(he.a,{container:!0,spacing:16},o.a.createElement(he.a,{item:!0,xs:12},o.a.createElement(me.a,{className:e.classes.paper},o.a.createElement(Nn,null))),o.a.createElement(he.a,{item:!0,xs:12},o.a.createElement(Ln,null)))}),An=a(331),Wn=a(113),Un=a(332),qn=a(333),zn=(a(727),a(728),a(729),a(730),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).calendarComponentRef=o.a.createRef(),a.state={defaultView:"dayGridMonth",defaultDate:new Date},a.eventDataTransform=function(e){return e.id=e._id,e.title=e[a.props.textField],e.color=a.props.getColor(e),e},a.handleDateClick=function(e){a.props.onSelect(null,e.date)},a.handleEventClick=function(e){var t=a.props.data.data.find(function(t){return t._id===e.event.id});a.props.onSelect(t,e.date)},a.handleViewDisplay=function(e){var t=[{field:"start",op:"gte",value:e.view.activeStart},{field:"end",op:"lte",value:e.view.activeEnd}];a.props.onChange(t,{limit:200,skip:0},null),a.setState({defaultView:e.view.type,defaultDate:e.view.activeStart})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state,t=e.defaultDate,a=e.defaultView;return o.a.createElement("div",{className:"Calendar"},o.a.createElement(An.a,{defaultView:a,defaultDate:t,header:{left:"today, prev, next, title",right:"dayGridMonth, timeGridWeek, timeGridDay"},plugins:[Wn.d,Un.a,qn.a],ref:this.calendarComponentRef,weekends:!0,events:this.props.data.data,dateClick:this.handleDateClick,eventClick:this.handleEventClick,eventDataTransform:this.eventDataTransform,datesRender:this.handleViewDisplay,eventColor:this.props.theme.palette.primary.main}))}}]),t}(o.a.Component)),Vn=Object(te.withTheme)()(zn),Bn=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).getColor=function(e){var t=a.props.theme;if(!e._eventType)return t.palette.secondary.main;switch(e._eventType.key){case 1:return t.palette.primary.main;default:return t.palette.secondary.main}},a.handleSelect=function(e,t){a.setState({x:e,isOpen:!0,date:t})},a.handleClose=function(){a.setState({isOpen:!1})},a.handleChange=function(){var e=Object(ge.a)(be.a.mark(function e(t,n,r){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.props.store.getEvents(t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),a.props.user.showError(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,a,n){return e.apply(this,arguments)}}(),a.state={x:null,isOpen:!1,date:null},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.store.events,t=this.props.user.user,a=this.state.x&&this.state.x.userId!==t._id;return o.a.createElement(he.a,{container:!0,spacing:16},o.a.createElement(he.a,{item:!0,xs:12},o.a.createElement(me.a,{className:this.props.classes.paper},o.a.createElement(Vn,{onSelect:this.handleSelect,onChange:this.handleChange,textField:"name",data:e,getColor:this.getColor}),o.a.createElement(Zt,{title:"Event",onClose:this.handleClose,isOpen:this.state.isOpen},o.a.createElement(En,{data:this.state.x,onSubmit:this.handleClose,date:this.state.date,disabled:a})))))}}]),t}(o.a.Component),Kn=E(Object(te.withStyles)(function(e){return{paper:{padding:e.spacing.unit}}}),j,ze,Object(te.withTheme)())(Bn),Yn=a(89),Hn=a(334),Gn=a.n(Hn),Zn=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={delay:500,legacy:!0},a.handleScan=a.handleScan.bind(Object(Yn.a)(Object(Yn.a)(a))),a.openImageDialog=a.openImageDialog.bind(Object(Yn.a)(Object(Yn.a)(a))),a.myRef=o.a.createRef(),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handleScan",value:function(e){if(e){var t=e.split(".");if(2===t.length)try{this.props.user.verify(t[0],t[1])}catch(a){this.props.user.showError(a)}}}},{key:"handleError",value:function(e){console.error(e)}},{key:"openImageDialog",value:function(){var e=this;this.setState({legacy:!0},function(){e.myRef.current.openImageDialog()})}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.row},o.a.createElement("div",{className:e.col},o.a.createElement("div",{className:e.center},o.a.createElement(Gn.a,{ref:this.myRef,delay:this.state.delay,style:{height:320,width:320},onError:this.handleError,onScan:this.handleScan,legacyMode:this.state.legacy}),o.a.createElement(Ae.a,{variant:"contained",color:"primary",className:e.submit,onClick:this.openImageDialog},"Scan"))),o.a.createElement("div",{className:e.col},o.a.createElement(me.a,{className:e.paper},o.a.createElement(G.a,{variant:"h6"},"Data"),this.props.user.signature&&o.a.createElement("div",null,o.a.createElement(G.a,{variant:"body1"},this.props.user.signature.data)))))}}]),t}(l.Component),Jn=E(Object(te.withStyles)(function(e){return Object(re.a)({},Va(e))}),ze,j)(Zn),Xn=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleSubmit=function(){try{a.props.user.sign(a.state.data)}catch(e){a.props.user.showError(e)}},a.handleChange=function(e,t){a.setState(Object(C.a)({},e,t))},a.state={data:""},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.row},o.a.createElement("div",{className:e.col},o.a.createElement(me.a,{className:e.paper},o.a.createElement(Ue,{onSubmit:this.handleSubmit},o.a.createElement("div",{className:e.flex},o.a.createElement(_e,{label:"Data",value:this.state.data,field:"data",onChange:this.handleChange,required:!0,multiline:!0,fullWidth:!0,rows:8}))))),o.a.createElement("div",{className:e.col},o.a.createElement("div",{className:e.center},this.props.user.signature&&o.a.createElement("img",{src:"data:image/jpeg;base64,"+this.props.user.signature.qrCode,alt:"signature",width:320,height:320}))))}}]),t}(l.Component),$n=E(Object(te.withStyles)(function(e){return Object(re.a)({},Va(e))}),ze,j)(Xn),Qn=a(336),er=a.n(Qn);var tr=Object(te.withStyles)(function(e){return{}})(function(e){var t=e.color,a=e.onClick,n=e.tooltip,r=e.disabled,s=e.className;return o.a.createElement(lt.a,{title:n},o.a.createElement(g.a,{color:t,onClick:a,"aria-label":n,disabled:r,className:s},e.children))}),ar=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).onChange=function(e){e.preventDefault();var t=e.target.files[0];a.props.onChange(a.props.field,t)},a.onClick=function(){a.props.disabled||a.inputRef.current.click()},a.inputRef=o.a.createRef(),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.value,n=e.disabled,r=e.mimeType;return o.a.createElement("div",null,o.a.createElement(tr,{className:t.button,tooltip:"Attach file",color:a?"primary":"default",onClick:this.onClick,disabled:n},o.a.createElement(er.a,null)),o.a.createElement("input",{ref:this.inputRef,style:{display:"none"},type:"file",accept:r,onChange:this.onChange}))}}]),t}(o.a.Component),nr=Object(te.withStyles)(function(e){return Object(re.a)({},Va(e),{button:{margin:e.spacing.unit}})})(ar),rr={name:"",likes:[],likesCnt:0,typesId:[],unavailable:!1,_img:null},sr=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state=a.props.data||rr,a.handleChange=function(e,t){a.setState(Object(C.a)({},e,t))},a.handleSubmit=Object(ge.a)(be.a.mark(function e(){var t,n,r,s,i,c;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.store,n=t.addTag,r=t.getTags,s=t.editTag,i=t.tags,c=a.props.user.user,e.prev=2,!a.state._id){e.next=8;break}return e.next=6,s(a.state,c);case 6:e.next=10;break;case 8:return e.next=10,n(a.state,c);case 10:r(i.filters),a.setState(rr),a.props.onSubmit&&a.props.onSubmit(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),a.props.user.showError(e.t0);case 18:case"end":return e.stop()}},e,null,[[2,15]])})),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.name,n=t.typesId,r=t.disabled,s=t._img,i=this.props.store.enums;return o.a.createElement(Ue,{onSubmit:this.handleSubmit,inline:!0},o.a.createElement(_e,{label:"Name",value:a,field:"name",onChange:this.handleChange,required:!0}),o.a.createElement("div",{className:e.collaborators},o.a.createElement(Le,{label:"Types",value:n,field:"typesId",onChange:this.handleChange,data:i.data,textField:"name",fullWidth:!0,multiple:!0})),o.a.createElement(nr,{mimeType:"image/jpeg",value:s,field:"_img",onChange:this.handleChange,disabled:void 0!==this.state._id}),o.a.createElement(Ja,{label:"",value:r,field:"disabled",onChange:this.handleChange}))}}]),t}(o.a.Component),ir=E(Object(te.withStyles)(function(e){return{collaborators:{display:"flex",flex:1}}}),ze,j)(sr),cr=a(344),lr=a.n(cr),or=a(345),ur=a.n(or),dr=a(338),pr=a.n(dr),hr=a(339),fr=a.n(hr),mr=a(340),vr=a.n(mr),br=a(204),gr=a.n(br),wr=a(341),yr=a.n(wr),xr=a(343),kr=a.n(xr),Er=a(194),Or=a.n(Er),jr=a(342),Cr=a.n(jr),Sr=a(337),Dr=a.n(Sr),Tr=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={imgViz:!1,img:null},a.state={expanded:!1},a.handleExpandClick=function(){a.setState(function(e){return{expanded:!e.expanded}})},a.onViz=function(){var e=Object(ge.a)(be.a.mark(function e(t){var n,r;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.onViz();case 2:n=e.sent,a.setState({imgViz:!0}),n&&((r=new FileReader).onloadend=function(){a.setState({img:r.result})},r.readAsDataURL(n));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.actions,n=e.children,r=e.cardActions,s=e.primary,i=e.secondary,c=e.avatar,l=e.defaultAvatar,u=e.tooltip,d=e.content;return o.a.createElement(Dr.a,{partialVisibility:!0,onChange:this.onViz},o.a.createElement(pr.a,{className:t.card},o.a.createElement(fr.a,{avatar:o.a.createElement(za,{className:t.bigAvatar,defaultValue:l,value:c,tooltip:u}),action:a,title:s,subheader:i}),o.a.createElement(vr.a,{className:t.media,image:this.state.img||"https://next.material-ui.com/static/images/cards/paella.jpg",title:"media",style:{opacity:this.state.imgViz?1:.25,transition:"opacity 500ms linear"}}),o.a.createElement(gr.a,null,d),o.a.createElement(yr.a,{className:t.actions,disableActionSpacing:!0},r,n&&o.a.createElement(g.a,{className:dt()(t.expand,Object(C.a)({},t.expandOpen,this.state.expanded)),onClick:this.handleExpandClick,"aria-expanded":this.state.expanded,"aria-label":"Show more"},o.a.createElement(Cr.a,null))),o.a.createElement(kr.a,{in:this.state.expanded,timeout:"auto",unmountOnExit:!0},o.a.createElement(gr.a,null,n))))}}]),t}(o.a.Component),_r=Object(te.withStyles)(function(e){return{card:{margin:e.spacing.unit,width:"100%",maxWidth:480},media:{height:0,paddingTop:"56.25%"},actions:{display:"flex"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Or.a[500]}}})(Tr),Ir=Object(te.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(yt.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 auto"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})(function(e){var t=e.classes,a=e.onFilter,n=e.title,r=e.isFilterSet,s=e.actions,i=e.onRefresh;return o.a.createElement(Y.a,{className:t.root},o.a.createElement("div",{className:t.title},o.a.createElement(G.a,{variant:"h6",id:"tableTitle"},n)),o.a.createElement("div",{className:t.spacer}),o.a.createElement("div",{className:t.actions},s,o.a.createElement(lt.a,{title:"Filter list"},o.a.createElement(g.a,{"aria-label":"Filter list",color:r?"primary":"default",onClick:a},o.a.createElement(bt.a,null))),o.a.createElement(lt.a,{title:"Refresh list"},o.a.createElement(g.a,{"aria-label":"Refresh list",onClick:i},o.a.createElement(wt.a,null)))))}),Nr=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleOpenFilter=function(){a.setState({isOpenFilter:!0})},a.handleCloseFilter=function(){a.setState({isOpenFilter:!1})},a.onDelete=function(){var e=Object(ge.a)(be.a.mark(function e(t){var n,r,s;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.onDelete,s=n.onChange,e.next=3,r(t);case 3:s(a.state.filters);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleConfirmFilter=function(e){var t=Rt(a.props.rows,a.props.filters,e);a.props.onChange(t),a.setState({filters:t,isOpenFilter:!1})},a.handleRefresh=function(){a.props.onChange(a.state.filters)},a.state={isOpenFilter:!1,filters:Rt(e.rows,e.filters,e.defaultFilters)},a.exportRef=o.a.createRef(),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.onChange(this.state.filters)}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.primaryTextField,r=t.secondaryTextField,s=t.onEdit,i=t.isDisabled,c=t.classes,l=t.onLike,u=t.isLiked,d=t.avatarField,p=t.defaultAvatarField,h=t.tooltipField,f=t.onMsg,m=t.cntField,v=t.theme,b=t.onViz;return o.a.createElement(me.a,{className:c.listWrapper},o.a.createElement(Ir,{onFilter:this.handleOpenFilter,isFilterSet:this.state.filters.length>0,actions:this.props.actions,title:this.props.title,onRefresh:this.handleRefresh}),o.a.createElement(zt,{isLoading:a.isLoading}),o.a.createElement("div",{className:c.list},a.data.map(function(t){return o.a.createElement(_r,{content:e.props.getContent(t),primary:Kt.a.get(t,n),secondary:Kt.a.get(t,r),avatar:Kt.a.get(t,d),defaultAvatar:Kt.a.get(t,p),tooltip:Kt.a.get(t,h),onLike:function(){return l(t)},onViz:function(){return b(t)},actions:o.a.createElement(Wt,{disabled:i(t),onEdit:function(){return s(t)},onDelete:function(){return e.onDelete(t)}}),cardActions:o.a.createElement(o.a.Fragment,null,o.a.createElement(lt.a,{title:"Like"},o.a.createElement(Ae.a,{onClick:function(){return l(t._id)},style:{color:u(t)?v.palette.primary.main:"rgba(0, 0, 0, 0.54)"}},o.a.createElement(lr.a,null),Kt.a.get(t,m))),o.a.createElement(tr,{tooltip:"Send message",onClick:function(){return f(t)}},o.a.createElement(ur.a,null)))})})),o.a.createElement(Lt,{isOpen:this.state.isOpenFilter,onClose:this.handleCloseFilter,onConfirm:this.handleConfirmFilter,store:this.props.store,rows:this.props.rows,filters:this.props.filters,defaultState:this.props.defaultFilters}))}}]),t}(o.a.Component),Pr=Object(te.withTheme)()(Object(te.withStyles)(function(e){return{listWrapper:{position:"relative"},list:{display:"flex",flexWrap:"wrap"}}})(Nr)),Fr=[{field:"user.name",label:"Tag",type:"enum",data:"enums",idField:"typesId"}],Rr=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={x:null,isOpen:!1},a.handleClose=function(){a.setState({isOpen:!1})},a.handleOpen=function(){a.setState({isOpen:!0})},a.handleChange=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.props.store.getTags(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),a.props.user.showError(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),a.handleEdit=function(e){a.setState({x:e,isOpen:!0})},a.handleDelete=function(){var e=Object(ge.a)(be.a.mark(function e(t){var n;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.store.deleteTag,e.prev=1,e.next=4,n(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),a.props.user.showError(e.t0);case 9:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}(),a.isDisabled=function(e){return a.props.user.user._id!==e.userId},a.handleLike=function(){var e=Object(ge.a)(be.a.mark(function e(t){var n,r;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.store.likeTag,r=a.props.user.user,e.prev=2,e.next=5,n(t,r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),a.props.user.showError(e.t0);case 10:case"end":return e.stop()}},e,null,[[2,7]])}));return function(t){return e.apply(this,arguments)}}(),a.handleMsg=function(e){var t=a.props.user.user;window.open("mailto:".concat(e._user.email,"?subject=APP: ").concat(e.name,"&body=%0D%0A").concat(t.name),"_self")},a.isLiked=function(e){return e.likes.includes(a.props.user.user._id)},a.getContent=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(G.a,{variant:"subtitle1",color:"textPrimary"},e.name),o.a.createElement(G.a,{variant:"body2",color:"textSecondary",component:"p"},e._tagTypesStr||"\u017eiadne"))},a.getFilters=function(){return[{label:"Likes",field:"likes",data:[{_id:1,name:"Me",filters:[{field:"likes",value:a.props.user.user._id}]}]}]},a.handleViz=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.imgId){e.next=6;break}return e.next=3,a.props.store.getFile(t.imgId);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=null;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.store.tags;return o.a.createElement("div",{className:e.list},o.a.createElement(Pr,{data:t,getContent:this.getContent,primaryTextField:"_user.name",secondaryTextField:"_dateStr",avatarField:"_user.avatar",tooltipField:"_user.name",cntField:"likesCnt",onChange:this.handleChange,onEdit:this.handleEdit,onDelete:this.handleDelete,isDisabled:this.isDisabled,onLike:this.handleLike,isLiked:this.isLiked,filters:this.getFilters(),onViz:this.handleViz,rows:Fr,store:this.props.store,title:"Tags",onMsg:this.handleMsg}),o.a.createElement(Zt,{title:"Edit tag",onClose:this.handleClose,isOpen:this.state.isOpen},o.a.createElement(ir,{data:this.state.x,onSubmit:this.handleClose})))}}]),t}(o.a.Component),Lr=E(Object(te.withStyles)(function(e){return{list:{marginTop:e.spacing.unit}}}),ze,j,f.f)(Rr);var Mr,Ar,Wr,Ur,qr,zr,Vr,Br,Kr=Object(te.withStyles)(function(e){return{paper:{padding:e.spacing.unit}}})(function(e){return o.a.createElement(he.a,{container:!0,spacing:24},o.a.createElement(he.a,{item:!0,xs:12},o.a.createElement(me.a,{className:e.classes.paper},o.a.createElement(ir,null)),o.a.createElement(Lr,null)))}),Yr=function(e){return[{_id:1,name:e("totalDistance")},{_id:2,name:e("totalElevation")},{_id:3,name:e("totalTime")},{_id:8,name:e("totalKudos")},{_id:4,name:e("maxDistance")},{_id:5,name:e("maxElevation")},{_id:6,name:e("maxTime")},{_id:9,name:e("maxKudos")},{_id:7,name:e("count")}]},Hr=function(e){return[{_id:1,name:e("thisWeek")},{_id:2,name:e("lastWeek")},{_id:3,name:e("thisMonth")},{_id:4,name:e("lastMonth")},{_id:5,name:e("thisYear")},{_id:6,name:e("myMonths")},{_id:7,name:e("myYears")}]},Gr=function(e){return[{_id:0,name:e("all")},{_id:1,name:e("ride")},{_id:2,name:e("run")},{_id:3,name:e("walk")},{_id:4,name:e("hike")}]},Zr=function(e){switch(e){case 6:return"month";case 7:return"year";default:return"userId"}},Jr=function(e){switch(e){case 1:case 2:case 3:case 8:return"sum";case 4:case 5:case 6:case 9:return"max";case 7:default:return"count"}},Xr=function(e){switch(e){case 1:case 4:return"dis";case 2:case 5:return"total_elevation_gain";case 3:case 6:return"moving_time";case 8:case 9:return"kudos_count";default:return"_id"}},$r=function(e,t){return{field:Zr(e),op:Jr(t),opField:Xr(t)}},Qr=function(e){switch(e){case 1:return[{field:"type",value:"Ride"}];case 2:return[{field:"type",value:"Run"}];case 3:return[{field:"type",value:"Walk"}];case 4:return[{field:"type",value:"Hike"}];case 0:default:return[]}},es=function(e,t){switch(e){case 1:return[{field:"start_date",op:"lte",value:Ft()().endOf("week").toDate()},{field:"start_date",op:"gte",value:Ft()().startOf("week").toDate()}];case 2:return[{field:"start_date",op:"lte",value:Ft()().subtract(1,"weeks").endOf("week").toDate()},{field:"start_date",op:"gte",value:Ft()().subtract(1,"weeks").startOf("week").toDate()}];case 3:return[{field:"start_date",op:"lte",value:Ft()().endOf("month").toDate()},{field:"start_date",op:"gte",value:Ft()().startOf("month").toDate()}];case 4:return[{field:"start_date",op:"lte",value:Ft()().subtract(1,"month").endOf("month").toDate()},{field:"start_date",op:"gte",value:Ft()().subtract(1,"month").startOf("month").toDate()}];case 5:return[{field:"start_date",op:"lte",value:Ft()().endOf("year").toDate()},{field:"start_date",op:"gte",value:Ft()().startOf("year").toDate()}];case 6:case 7:return[{field:"userId",value:t._id}];default:return[]}},ts=function(e){if(!e._user)return null;var t=Kt.a.get(e,"_user.name");return o.a.createElement(sa.a,{color:"inherit",href:"https://www.strava.com/athletes/".concat(e._user.strava.oAuthId),target:"_blank",rel:"noopener noreferrer"},t)},as=function(e,t){switch(e){case 6:return{field:"_id",label:t("months"),filterable:!1,disablePadding:!0};case 7:return{field:"_id",label:t("years"),filterable:!1,disablePadding:!0};default:return{field:"_user.name",label:t("user"),filterable:!1,sortable:!1,disablePadding:!0,cell:ts}}},ns=function(e,t){switch(e){case 1:case 4:return{field:"val",label:t("distance"),filterable:!1};case 2:case 5:return{field:"val",label:t("elevation"),filterable:!1};case 3:case 6:return{field:"val",label:t("time"),filterable:!1};case 7:return{field:"val",label:t("count"),filterable:!1};case 8:case 9:return{field:"val",label:t("kudos"),filterable:!1};default:return{field:"val",label:t("value"),filterable:!1}}},rs=function(e,t,a){return[as(e,a),ns(t,a)]},ss=function(e){function t(e){var a;Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleChange=function(e,t,n){qr=e,Ar=n,Wr=t,a.getList()},a.getList=Object(ge.a)(be.a.mark(function e(){var t;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[].concat(Object(Ye.a)(Mr),Object(Ye.a)(qr),Object(Ye.a)(zr),Object(Ye.a)(Br)),e.next=4,a.props.store.getActivities(Ur,t,Wr,Ar,a.props.locale);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),a.props.user.showError(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),a.isDisabled=function(e){return!0},a.handleChangeType=function(e,t){a.setState(Object(C.a)({},e,t)),zr=Qr(t),a.getList()},a.handleChangeOp=function(e,t){a.setState(Object(C.a)({},e,t)),Ur=$r(a.state.groupId,t),a.getList()},a.handleChangeGroup=function(e,t){var n=a.props.user.user;a.setState(Object(C.a)({},e,t)),Mr=es(t,n),Ur=$r(t,a.state.opId),a.getList()},a.handleChangeSearch=function(e,t){a.setState(Object(C.a)({},e,t)),clearTimeout(Vr),Vr=setTimeout(function(){Br=t?[{field:"name",op:"regex",value:t}]:[],a.getList()},500)};return a.state={opId:1,groupId:1,typeId:0,search:""},Mr=es(1,e.user.user),Ur=$r(1,1),zr=[],Br=[],a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e,t,a=this.state,n=a.opId,r=a.groupId,s=a.typeId,i=this.props,c=i.classes,l=i.translate;return o.a.createElement("div",null,o.a.createElement(me.a,{className:dt()(c.paper,c.row)},o.a.createElement(Le,{value:s,field:"typeId",onChange:this.handleChangeType,data:Gr(l),textField:"name",required:!0}),o.a.createElement(Le,{value:n,field:"opId",onChange:this.handleChangeOp,data:Yr(l),textField:"name",required:!0}),o.a.createElement(Le,{value:r,field:"groupId",onChange:this.handleChangeGroup,data:Hr(l),textField:"name",required:!0}),o.a.createElement("div",{className:c.grow}),this.props.user.user.strava&&o.a.createElement(ha,{config:va.strava,title:l("sync")})),o.a.createElement(Ht,{rows:rs(this.state.groupId,this.state.opId,l),data:"activities",onChange:this.handleChange,title:l("activities"),store:this.props.store,filters:(e=this.props.store.getUsersInClub,t=this.props.user.user,[{field:"club",data:[{_id:1,name:"VYPADNI VON",filters:[{field:"userId",op:"in",value:function(){return e(562456)}}]},{_id:2,name:"TATRANSK\xc9 KOZY",filters:[{field:"userId",op:"in",value:function(){return e(771781)}}]},{_id:3,name:"ME",filters:[{field:"userId",value:t._id}]}]},{field:"sex",data:[{_id:1,name:"Male",filters:[{field:"sex",op:"eq",value:"M"}]},{_id:2,name:"Female",filters:[{field:"sex",op:"eq",value:"F"}]}]}]),defaultSort:{field:"val",dir:"desc"},isDisabled:this.isDisabled}),o.a.createElement(G.a,{variant:"body1",className:this.props.classes.footer},l("rideNote")))}}]),t}(o.a.Component),is=E(ze,j,Object(te.withStyles)(function(e){return Object(re.a)({},Va(e),{paper:{marginBottom:e.spacing.unit,padding:e.spacing.unit},footer:{marginTop:e.spacing.unit}})}),oe)(ss);var cs=E(Object(te.withStyles)(function(e){return{paper:{padding:e.spacing.unit}}}),j)(function(e){return o.a.createElement(he.a,{container:!0,spacing:16},o.a.createElement(he.a,{item:!0,xs:12},o.a.createElement(is,null)))}),ls=[{name:"records",path:"/records",component:ta,exact:!0,permission:tn.tasks},{name:"clients",path:"/clients",component:yn,exact:!0,permission:tn.report},{name:"projects",path:"/projects",component:Ta,exact:!0,permission:tn.tasks},{name:"reports",path:"/reports",component:pn,exact:!0,permission:tn.tasks},{name:"events",path:"/events",component:Tn,exact:!0,permission:tn.events},{name:"enums",path:"/enums",component:Mn,exact:!0,permission:tn.enums},{name:"calendar",path:"/calendar",component:Kn,exact:!0,permission:tn.events},{name:"sign",path:"/sign",component:$n,exact:!0,permission:tn.report},{name:"verify",path:"/verify",component:Jn,exact:!0,permission:tn.report},{name:"project",path:"/projects/:id",component:Wa,permission:tn.tasks},{name:"login",path:"/login",component:wa,anonymous:!0,exact:!0,hidden:!0},{name:"oauth",path:"/",component:fn,anonymous:!0,exact:!0,hidden:!0},{name:"tags",path:"/tags",component:Kr,exact:!0,permission:tn.tags},{name:"activities",path:"/activities",component:cs,exact:!0,permission:tn.activities},{name:"account",path:"/account",component:an,exact:!0}],os="/",us=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(s.a)(this,Object(i.a)(t).call(this,e));var r=new URL("https://vypadnivon.sk");return os=r.pathname,a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{basename:os},o.a.createElement(de,{user:t,routes:ls},ls.map(function(e){return e.anonymous?o.a.createElement(f.b,{key:e.name,path:e.path,exact:e.exact,component:e.component}):o.a.createElement(ds,{exact:e.exact,key:e.name,path:e.path,component:e.component,user:t,permission:e.permission})}))),o.a.createElement(v.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:t.msg,autoHideDuration:6e3,onClose:t.hideMsg,ContentProps:{"aria-describedby":"message-id"},message:o.a.createElement("span",{id:"message-id"},t.msg),action:[o.a.createElement(g.a,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:t.hideMsg},o.a.createElement(y.a,null))]}))}}]),t}(o.a.Component);function ds(e){var t=e.component,a=e.user,n=e.permission,r=Object(p.a)(e,["component","user","permission"]);return o.a.createElement(f.b,Object.assign({},r,{render:function(e){return a.user?n&&!a.hasPermission(n)?o.a.createElement(f.a,{to:{pathname:va.home,state:{from:e.location}}}):o.a.createElement(t,e):o.a.createElement(f.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var ps=E(k()(function(e){return{close:{padding:e.spacing.unit/2}}}),j)(us);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var hs,fs=a(17),ms=function(){var e=Object(ge.a)(be.a.mark(function e(t,a){var n,r=arguments;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>2&&void 0!==r[2]?r[2]:"",e.prev=1,e.next=4,fs.auth.auth(t,a,n);case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t,a){return e.apply(this,arguments)}}(),vs=function(e){var t="https://vypadnivon.sk";return"5"===e&&(t+="/"),"".concat(t,"?provider=").concat(e)},bs=function(){var e=Object(ge.a)(be.a.mark(function e(t,a){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.auth.oAuth(t,a,vs(t),va.configId);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,a){return e.apply(this,arguments)}}(),gs=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.auth.reset(t,"https://vypadnivon.sk");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),ws=function(){var e=Object(ge.a)(be.a.mark(function e(t,a){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.auth.updateOauth(t,a,vs(t));case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,a){return e.apply(this,arguments)}}(),ys=function(){var e=Object(ge.a)(be.a.mark(function e(){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.auth.generateSecret();case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),xs=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.auth.sign(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),ks=function(){var e=Object(ge.a)(be.a.mark(function e(t,a){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.auth.verify(t,a);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,a){return e.apply(this,arguments)}}(),Es=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.auth.getUsers(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),Os=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.auth.getUserCached(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),js=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.auth.getUser(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),Cs=function(){var e=Object(ge.a)(be.a.mark(function e(t,a){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.auth.updateUser(t,a);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,a){return e.apply(this,arguments)}}(),Ss=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.auth.checkUser(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),Ds=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={user:fs.storage.getUser(),msg:null,users:{total:0,data:[]},secret:null,signature:null},a.showMsg=function(e){a.setState({msg:e})},a.showError=function(e){a.setState({msg:e.message})},a.hideMsg=function(){a.setState({msg:null})},a.auth=function(){var e=Object(ge.a)(be.a.mark(function e(t,n,r){var s;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ms(t,n,r);case 3:return s=e.sent,a.setState({user:s}),e.abrupt("return",s);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a,n){return e.apply(this,arguments)}}(),a.generateSecret=Object(ge.a)(be.a.mark(function e(){var t;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ys();case 3:t=e.sent,a.setState({secret:t}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])})),a.sign=function(){var e=Object(ge.a)(be.a.mark(function e(t){var n;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xs(btoa(t));case 3:n=e.sent,a.setState({signature:n}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),a.verify=function(){var e=Object(ge.a)(be.a.mark(function e(t,n){var r;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ks(t,n);case 3:r=e.sent,a.setState({signature:{data:r?atob(t):"NOT VALID",signature:n}}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),a.oAuth=function(){var e=Object(ge.a)(be.a.mark(function e(t,n){var r;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bs(t,n);case 3:return r=e.sent,a.setState({user:r}),e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}(),a.updateOauth=function(){var e=Object(ge.a)(be.a.mark(function e(t,n){var r;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ws(t,n);case 3:r=e.sent,a.setState({user:r}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),a.updateUser=function(){var e=Object(ge.a)(be.a.mark(function e(t,n){var r;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cs(t,n);case 3:return r=e.sent,a.setState({user:r}),e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}(),a.reset=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gs(t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),a.getUsers=function(){var e=Object(ge.a)(be.a.mark(function e(t){var n;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Es(t);case 3:n=e.sent,a.setState({users:n}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),a.hasPermission=function(e){return a.state.user&&(a.state.user.permissions&e)>0},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.children;return o.a.createElement(O.Provider,{value:Object(re.a)({auth:this.auth,hideMsg:this.hideMsg,showMsg:this.showMsg,showError:this.showError,generateSecret:this.generateSecret,oAuth:this.oAuth,updateOauth:this.updateOauth,getUsers:this.getUsers,getUser:js,updateUser:this.updateUser,hasPermission:this.hasPermission,reset:this.reset,sign:this.sign,verify:this.verify,checkUser:Ss},this.state)},e)}}]),t}(o.a.Component),Ts=(a(205),function(){var e=Object(ge.a)(be.a.mark(function e(t,a){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.userId=a._id,t.date.setHours(0,0,0,0),e.next=5,fs.store.post("timeRecords",t);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}()),_s=function(){var e=Object(ge.a)(be.a.mark(function e(t,a){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.userId=a._id,t.start.setSeconds(0,0),t.end.setSeconds(0,0),e.next=6,fs.store.post("events",t);case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}(),Is=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.post("enums",t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),Ns=function(){var e=Object(ge.a)(be.a.mark(function e(t,a){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.userId=a._id,t.collaborators=[].concat(Object(Ye.a)(t.collaborators),[a._id]),e.next=5,fs.store.post("projects",t);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),Ps=function(){var e=Object(ge.a)(be.a.mark(function e(t,a){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.userId=a._id,e.next=4,fs.store.post("clients",t);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,a){return e.apply(this,arguments)}}(),Fs=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.postFile(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),Rs=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.getFile(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),Ls=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.delFile(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),Ms=function(){var e=Object(ge.a)(be.a.mark(function e(t,a){var n;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.userId=a._id,t.date=new Date,e.next=5,fs.store.getLocation();case 5:if(t.location=e.sent,!t._img){e.next=12;break}return e.next=9,Fs(t._img);case 9:n=e.sent,t.imgId=n._id,t._img=null;case 12:return e.next=14,fs.store.post("tags",t);case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(0),e.t0;case 19:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t,a){return e.apply(this,arguments)}}(),As=function(){var e=Object(ge.a)(be.a.mark(function e(t,a){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.collaborators=[].concat(Object(Ye.a)(t.collaborators),[a._id]),e.next=4,fs.store.put("projects",t,t._id);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,a){return e.apply(this,arguments)}}(),Ws=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.date.setHours(0,0,0,0),e.next=4,fs.store.put("timeRecords",t,t._id);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),Us=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.put("events",t,t._id);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),qs=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.put("enums",t,t._id);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),zs=function(){var e=Object(ge.a)(be.a.mark(function e(){var t,a,n,r;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=fs.storage.getUser(),a={field:"key",dir:"asc"},n=[{field:"collaborators",op:"eq",value:t._id}],e.next=6,fs.store.get("projects",n,a);case 6:return(r=e.sent).data.forEach(function(e){e.collaborators=e.collaborators.filter(function(e){return e!==t._id})}),e.abrupt("return",r);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),Vs=function(){var e=Object(ge.a)(be.a.mark(function e(t,a){var n,r,s,i,c,l,o,u,d,p,h,f;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.getLocation();case 3:return(n=e.sent).max=null,r=Ft()().subtract(1,"day").toDate(),s=[].concat(Object(Ye.a)(t),[{field:"location",op:"near",value:n},{field:"date",op:"gt",value:r}]),i={field:"location",dir:"asc"},e.next=10,fs.store.get("tags",s,i);case 10:(c=e.sent).filters=t,l=!0,o=!1,u=void 0,e.prev=15,d=c.data[Symbol.iterator]();case 17:if(l=(p=d.next()).done){e.next=30;break}return(h=p.value).date=h.date?new Date(h.date):null,h._dateStr=h.date.toLocaleString(),e.next=23,fs.auth.getUserCached(h.userId);case 23:h._user=e.sent,f="",h.typesId.forEach(function(e,t){0!==t&&(f+=" | ");var n=a.find(function(t){return t._id===e});f+=n.name}),h._tagTypesStr=f;case 27:l=!0,e.next=17;break;case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(15),o=!0,u=e.t0;case 36:e.prev=36,e.prev=37,l||null==d.return||d.return();case 39:if(e.prev=39,!o){e.next=42;break}throw u;case 42:return e.finish(39);case 43:return e.finish(36);case 44:return e.abrupt("return",c);case 47:throw e.prev=47,e.t1=e.catch(0),e.t1;case 50:case"end":return e.stop()}},e,null,[[0,47],[15,32,36,44],[37,,39,43]])}));return function(t,a){return e.apply(this,arguments)}}(),Bs=function(e,t){switch(e.opField){case"dis":return"".concat(Math.round(t/100)/10," km");case"total_elevation_gain":return"".concat(t," m");case"moving_time":return function(e){var t=Math.floor(e/3600),a=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return a<10&&(a="0"+a),n<10&&(n="0"+n),"".concat(t,":").concat(a,":").concat(n)}(t);default:return t.toString()}},Ks=function(e,t){return function(e){var t=e.substring(0,4),a=e.substring(4,6),n=e.substring(6,8);return new Date(t,a,n)}(e.toString()).toLocaleString(t,{month:"long",year:"numeric"})},Ys=function(){var e=Object(ge.a)(be.a.mark(function e(t){var a;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.get("userClubs",[{field:"clubs",value:t}],{field:"_id",dir:"asc"},{limit:200,skip:0},["_id"]);case 3:return a=e.sent,e.abrupt("return",a.data.map(function(e){return e._id}));case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),Hs=function(){var e=Object(ge.a)(be.a.mark(function e(t,a,n,r,s){var i,c,l,o,u,d,p,h,f,m,v,b,g;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,i=!0,c=!1,l=void 0,e.prev=4,o=a[Symbol.iterator]();case 6:if(i=(u=o.next()).done){e.next=15;break}if(!((d=u.value).value instanceof Function)){e.next=12;break}return e.next=11,d.value();case 11:d.value=e.sent;case 12:i=!0,e.next=6;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),c=!0,l=e.t0;case 21:e.prev=21,e.prev=22,i||null==o.return||o.return();case 24:if(e.prev=24,!c){e.next=27;break}throw l;case 27:return e.finish(24);case 28:return e.finish(21);case 29:return e.next=31,fs.store.aggregation("activities",t,a,r,n);case 31:p=e.sent,h=!0,f=!1,m=void 0,e.prev=35,v=p.data[Symbol.iterator]();case 37:if(h=(b=v.next()).done){e.next=50;break}if(g=b.value,"userId"!==t.field){e.next=45;break}return e.next=42,fs.auth.getUserCached(g._id);case 42:g._user=e.sent,e.next=46;break;case 45:"month"===t.field?g._id=Ks(g._id,s):"year"===t.field&&(g._id=g._id.toString().substring(0,4));case 46:g.val=Bs(t,g.val);case 47:h=!0,e.next=37;break;case 50:e.next=56;break;case 52:e.prev=52,e.t1=e.catch(35),f=!0,m=e.t1;case 56:e.prev=56,e.prev=57,h||null==v.return||v.return();case 59:if(e.prev=59,!f){e.next=62;break}throw m;case 62:return e.finish(59);case 63:return e.finish(56);case 64:return e.abrupt("return",p);case 67:throw e.prev=67,e.t2=e.catch(0),e.t2;case 70:case"end":return e.stop()}},e,null,[[0,67],[4,17,21,29],[22,,24,28],[35,52,56,64],[57,,59,63]])}));return function(t,a,n,r,s){return e.apply(this,arguments)}}(),Gs=function(){var e=Object(ge.a)(be.a.mark(function e(){var t;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.get("clients");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),Zs=function(){var e=Object(ge.a)(be.a.mark(function e(t){var a;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.getById("projects",t);case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),Js=function(){var e=Object(ge.a)(be.a.mark(function e(t){var a;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.getById("clients",t);case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),Xs=function(){var e=Object(ge.a)(be.a.mark(function e(t){var a,n;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={field:"date",op:"sum",opField:"duration"},e.next=4,fs.store.aggregation("timeRecords",a,t);case 4:return(n=e.sent).sum=0,n.data.forEach(function(e){e.duration=e.val,e.name=new Date(e._id).toLocaleDateString("en-US"),n.sum+=e.val}),e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),$s=function(){var e=Object(ge.a)(be.a.mark(function e(t,a){var n,r;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={field:"projectId",op:"sum",opField:"duration"},e.next=4,fs.store.aggregation("timeRecords",n,t);case 4:return(r=e.sent).data.forEach(function(e){var t=a.find(function(t){return t._id===e._id});e.name=t?t.name:"none"}),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}(),Qs=function(){var e=Object(ge.a)(be.a.mark(function e(t){var a,n,r,s,i,c,l,o,u;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={field:"userId",op:"sum",opField:"duration"},e.next=4,fs.store.aggregation("timeRecords",a,t);case 4:n=e.sent,r=!0,s=!1,i=void 0,e.prev=8,c=n.data[Symbol.iterator]();case 10:if(r=(l=c.next()).done){e.next=19;break}return o=l.value,e.next=14,fs.auth.getUserCached(o._id);case 14:u=e.sent,o.name=u?u.name:"";case 16:r=!0,e.next=10;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(8),s=!0,i=e.t0;case 25:e.prev=25,e.prev=26,r||null==c.return||c.return();case 28:if(e.prev=28,!s){e.next=31;break}throw i;case 31:return e.finish(28);case 32:return e.finish(25);case 33:return e.abrupt("return",n);case 36:throw e.prev=36,e.t1=e.catch(0),e.t1;case 39:case"end":return e.stop()}},e,null,[[0,36],[8,21,25,33],[26,,28,32]])}));return function(t){return e.apply(this,arguments)}}(),ei=function(){var e=Object(ge.a)(be.a.mark(function e(t,a,n){var r,s,i,c,l,o,u,d;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={field:"date",dir:"desc"},e.next=4,fs.store.get("timeRecords",a,r,n);case 4:s=e.sent,i=!0,c=!1,l=void 0,e.prev=8,o=be.a.mark(function e(){var a;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((a=d.value).date=a.date?new Date(a.date):null,a._project=t.find(function(e){return e._id===a.projectId}),!a.taskId){e.next=9;break}return e.next=6,gi(a.taskId);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0={name:null};case 10:return a._task=e.t0,e.next=13,fs.auth.getUserCached(a.userId);case 13:a._user=e.sent;case 14:case"end":return e.stop()}},e)}),u=s.data[Symbol.iterator]();case 11:if(i=(d=u.next()).done){e.next=16;break}return e.delegateYield(o(),"t0",13);case 13:i=!0,e.next=11;break;case 16:e.next=22;break;case 18:e.prev=18,e.t1=e.catch(8),c=!0,l=e.t1;case 22:e.prev=22,e.prev=23,i||null==u.return||u.return();case 25:if(e.prev=25,!c){e.next=28;break}throw l;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return e.abrupt("return",s);case 33:throw e.prev=33,e.t2=e.catch(0),e.t2;case 36:case"end":return e.stop()}},e,null,[[0,33],[8,18,22,30],[23,,25,29]])}));return function(t,a,n){return e.apply(this,arguments)}}(),ti=function(){var e=Object(ge.a)(be.a.mark(function e(t,a,n){var r,s,i,c,l,o,u,d;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={field:"start",dir:"desc"},e.next=4,fs.store.get("events",a,r,n);case 4:s=e.sent,i=!0,c=!1,l=void 0,e.prev=8,o=be.a.mark(function e(){var a;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=d.value).start=a.start?new Date(a.start):null,a.end=a.end?new Date(a.end):null,e.next=5,fs.auth.getUserCached(a.userId);case 5:a._user=e.sent,a._eventType=t.find(function(e){return e._id===a.eventTypeId});case 7:case"end":return e.stop()}},e)}),u=s.data[Symbol.iterator]();case 11:if(i=(d=u.next()).done){e.next=16;break}return e.delegateYield(o(),"t0",13);case 13:i=!0,e.next=11;break;case 16:e.next=22;break;case 18:e.prev=18,e.t1=e.catch(8),c=!0,l=e.t1;case 22:e.prev=22,e.prev=23,i||null==u.return||u.return();case 25:if(e.prev=25,!c){e.next=28;break}throw l;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return e.abrupt("return",s);case 33:throw e.prev=33,e.t2=e.catch(0),e.t2;case 36:case"end":return e.stop()}},e,null,[[0,33],[8,18,22,30],[23,,25,29]])}));return function(t,a,n){return e.apply(this,arguments)}}(),ai=function(){var e=Object(ge.a)(be.a.mark(function e(t,a,n,r){var s,i,c,l,o,u,d;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.get("enums",a,n,r);case 3:for(s=e.sent,i=!0,c=!1,l=void 0,e.prev=7,o=function(){var e=d.value;e._enumType=t.find(function(t){return t._id===e.enumTypeId})},u=s.data[Symbol.iterator]();!(i=(d=u.next()).done);i=!0)o();e.next=16;break;case 12:e.prev=12,e.t0=e.catch(7),c=!0,l=e.t0;case 16:e.prev=16,e.prev=17,i||null==u.return||u.return();case 19:if(e.prev=19,!c){e.next=22;break}throw l;case 22:return e.finish(19);case 23:return e.finish(16);case 24:return e.abrupt("return",s);case 27:throw e.prev=27,e.t1=e.catch(0),e.t1;case 30:case"end":return e.stop()}},e,null,[[0,27],[7,12,16,24],[17,,19,23]])}));return function(t,a,n,r){return e.apply(this,arguments)}}(),ni=function(){var e=Object(ge.a)(be.a.mark(function e(t){var a,n;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=[{field:"enumTypeId",op:"in",value:t},{field:"disabled",op:"ne",value:!0}],e.next=4,fs.store.get("enums",a);case 4:return n=e.sent,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),ri=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.delById("timeRecords",t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),si=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.delById("events",t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),ii=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.delById("enums",t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),ci=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.delById("projects",t);case 3:return e.next=5,fs.store.del("tasks",[{field:"projectId",value:t}]);case 5:return e.next=7,fs.store.del("timeRecords",[{field:"projectId",value:t}]);case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),li=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.delById("tasks",t);case 3:return e.next=5,fs.store.del("timeRecords",[{field:"taskId",value:t}]);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),oi=function(){var e=Object(ge.a)(be.a.mark(function e(t,a,n){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.userId=a._id,t.projectId=n,e.next=5,fs.store.post("tasks",t);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a,n){return e.apply(this,arguments)}}(),ui=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.put("tasks",t,t._id);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),di=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.put("clients",t,t._id);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),pi=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.put("tags",t,t._id);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),hi=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.delById("clients",t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),fi=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.delById("tags",t._id);case 3:if(!t.imgId){e.next=6;break}return e.next=6,Ls(t.imgId);case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),mi=function(){var e=Object(ge.a)(be.a.mark(function e(t,a,n,r){var s,i,c,l,o,u,d;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.get("tasks",a,r,n);case 3:s=e.sent,i=!0,c=!1,l=void 0,e.prev=7,o=be.a.mark(function e(){var a;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=d.value).assignedToId){e.next=7;break}return e.next=4,fs.auth.getUserCached(a.assignedToId);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=null;case 8:a._assignedTo=e.t0,a._state=t.find(function(e){return e._id===a.stateId}),a._type=t.find(function(e){return e._id===a.typeId});case 11:case"end":return e.stop()}},e)}),u=s.data[Symbol.iterator]();case 10:if(i=(d=u.next()).done){e.next=15;break}return e.delegateYield(o(),"t0",12);case 12:i=!0,e.next=10;break;case 15:e.next=21;break;case 17:e.prev=17,e.t1=e.catch(7),c=!0,l=e.t1;case 21:e.prev=21,e.prev=22,i||null==u.return||u.return();case 24:if(e.prev=24,!c){e.next=27;break}throw l;case 27:return e.finish(24);case 28:return e.finish(21);case 29:return e.abrupt("return",s);case 32:throw e.prev=32,e.t2=e.catch(0),e.t2;case 35:case"end":return e.stop()}},e,null,[[0,32],[7,17,21,29],[22,,24,28]])}));return function(t,a,n,r){return e.apply(this,arguments)}}(),vi=function(){var e=Object(ge.a)(be.a.mark(function e(t){var a;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs.store.getById("tasks",t);case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),bi={},gi=function(){var e=Object(ge.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,bi[t]){e.next=5;break}return e.next=4,vi(t);case 4:bi[t]=e.sent;case 5:return e.abrupt("return",bi[t]);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),wi=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).getProjects=Object(ge.a)(be.a.mark(function e(){var t;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState(function(e){return{projects:Object(re.a)({},e.projects,{isLoading:!0})}}),e.next=4,zs();case 4:(t=e.sent).isLoading=!1,a.setState({projects:t}),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,9]])})),a.getTags=function(){var e=Object(ge.a)(be.a.mark(function e(t){var n,r;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState(function(e){return{tags:Object(re.a)({},e.tags,{isLoading:!0})}}),e.next=4,ni([2]);case 4:return n=e.sent,e.next=7,Vs(t,n.data);case 7:(r=e.sent).isLoading=!1,a.setState({tags:r,enums:n}),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(0),a.setState(function(e){return{tags:Object(re.a)({},e.tags,{isLoading:!1})}}),e.t0;case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),a.getActivities=function(){var e=Object(ge.a)(be.a.mark(function e(t,n,r,s,i){var c;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState(function(e){return{activities:Object(re.a)({},e.activities,{isLoading:!0})}}),e.next=4,Hs(t,n,r,s,i);case 4:(c=e.sent).isLoading=!1,a.setState({activities:c}),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),a.setState(function(e){return{activities:Object(re.a)({},e.activities,{isLoading:!1})}}),e.t0;case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,a,n,r,s){return e.apply(this,arguments)}}(),a.handleChange=function(e,t){a.setState(Object(C.a)({},e,t))},a.getProject=function(){var e=Object(ge.a)(be.a.mark(function e(t){var n,r,s,i,c,l,o,u,d;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zs(t);case 3:n=e.sent,r=[],s=!0,i=!1,c=void 0,e.prev=8,l=n.collaborators[Symbol.iterator]();case 10:if(s=(o=l.next()).done){e.next=19;break}return u=o.value,e.next=14,Os(u);case 14:d=e.sent,r.push(d);case 16:s=!0,e.next=10;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(8),i=!0,c=e.t0;case 25:e.prev=25,e.prev=26,s||null==l.return||l.return();case 28:if(e.prev=28,!i){e.next=31;break}throw c;case 31:return e.finish(28);case 32:return e.finish(25);case 33:a.setState({project:n,users:{total:r.length,data:r}}),e.next=39;break;case 36:throw e.prev=36,e.t1=e.catch(0),e.t1;case 39:case"end":return e.stop()}},e,null,[[0,36],[8,21,25,33],[26,,28,32]])}));return function(t){return e.apply(this,arguments)}}(),a.getClient=function(){var e=Object(ge.a)(be.a.mark(function e(t){var n;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Js(t);case 3:n=e.sent,a.setState({client:n}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),a.getClients=Object(ge.a)(be.a.mark(function e(){var t;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState(function(e){return{clients:Object(re.a)({},e.clients,{isLoading:!0})}}),e.next=4,Gs();case 4:(t=e.sent).isLoading=!1,a.setState({clients:t}),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,9]])})),a.refreshTimeRecords=Object(ge.a)(be.a.mark(function e(){var t,n,r,s,i,c,l,o;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState(function(e){return{timeRecords:Object(re.a)({},e.timeRecords,{isLoading:!0})}}),t=a.state.timeRecords,n=t.filters,r=t.page,e.next=5,zs();case 5:return s=e.sent,e.next=8,ei(s.data,n,r);case 8:return i=e.sent,e.next=11,Xs(n);case 11:return c=e.sent,e.next=14,$s(n,s.data);case 14:return l=e.sent,e.next=17,Qs(n);case 17:o=e.sent,i.isLoading=!1,a.setState({timeRecords:i,dateStats:c,projectStats:l,userStats:o,projects:s}),e.next=25;break;case 22:throw e.prev=22,e.t0=e.catch(0),e.t0;case 25:case"end":return e.stop()}},e,null,[[0,22]])})),a.refreshEvents=Object(ge.a)(be.a.mark(function e(){var t,n,r,s;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState(function(e){return{events:Object(re.a)({},e.events,{isLoading:!0})}}),t=a.state.events,n=t.filters,r=t.page,e.next=5,ti(a.state.enums.data,n,r);case 5:(s=e.sent).isLoading=!1,a.setState({events:s}),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}},e,null,[[0,10]])})),a.getEvents=function(){var e=Object(ge.a)(be.a.mark(function e(t,n){var r,s,i;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState(function(e){return{events:Object(re.a)({},e.events,{isLoading:!0})}}),e.next=4,Es([]);case 4:return r=e.sent,e.next=7,ni([1]);case 7:return s=e.sent,e.next=10,ti(s.data,t,n);case 10:return(i=e.sent).isLoading=!1,a.setState({events:i,users:r,enums:s}),e.abrupt("return",i);case 16:throw e.prev=16,e.t0=e.catch(0),e.t0;case 19:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t,a){return e.apply(this,arguments)}}(),a.getEnums=function(){var e=Object(ge.a)(be.a.mark(function e(t,n,r){var s;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState(function(e){return{enums:Object(re.a)({},e.events,{isLoading:!0})}}),e.next=4,ai(a.state.enumTypes.data,t,n,r);case 4:return(s=e.sent).isLoading=!1,a.setState({enums:s}),e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,a,n){return e.apply(this,arguments)}}(),a.refreshEnums=Object(ge.a)(be.a.mark(function e(){var t,n,r,s,i;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState(function(e){return{enums:Object(re.a)({},e.enums,{isLoading:!0})}}),t=a.state.enums,n=t.filters,r=t.sort,s=t.page,e.next=5,ai(a.state.enumTypes.data,n,r,s);case 5:(i=e.sent).isLoading=!1,a.setState({enums:i}),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}},e,null,[[0,10]])})),a.refreshTasks=Object(ge.a)(be.a.mark(function e(){var t,n,r,s,i;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState(function(e){return{tasks:Object(re.a)({},e.tasks,{isLoading:!0})}}),t=a.state.tasks,n=t.filters,r=t.page,s=t.sort,e.next=5,mi(a.state.enums.data,n,r,s);case 5:(i=e.sent).isLoading=!1,a.setState({tasks:i}),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}},e,null,[[0,10]])})),a.getTasks=function(){var e=Object(ge.a)(be.a.mark(function e(t,n,r,s){var i,c,l;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState(function(e){return{tasks:Object(re.a)({},e.tasks,{isLoading:!0})}}),i=[].concat(Object(Ye.a)(n),[{field:"projectId",op:"eq",value:t}]),e.next=5,ni([3,4]);case 5:return c=e.sent,e.next=8,mi(c.data,i,r,s);case 8:return(l=e.sent).isLoading=!1,a.setState({tasks:l,enums:c}),e.abrupt("return",l);case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t,a,n,r){return e.apply(this,arguments)}}(),a.getOpenedTasks=function(){var e=Object(ge.a)(be.a.mark(function e(t,n){var r;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=[{field:"stateId",op:"ne",value:3},{field:"assignedToId",op:"in",value:[n._id,""]}],e.next=4,a.getTasks(t,r,void 0);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,a){return e.apply(this,arguments)}}(),a.likeTag=function(e,t){a.setState(function(a){return{tags:Object(re.a)({},a.tags,{data:a.tags.data.map(function(a){if(a._id===e){var n=a.likes.indexOf(t._id);n>-1?(a.likes.splice(n,1),a.likesCnt=a.likesCnt-1):(a.likes.push(t._id),a.likesCnt=a.likesCnt+1),pi(a)}return a})})}})},a.getTimeRecords=function(){var e=Object(ge.a)(be.a.mark(function e(t,n){var r,s,i,c,l,o,u;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState(function(e){return{timeRecords:Object(re.a)({},e.timeRecords,{isLoading:!0})}}),e.next=4,zs();case 4:return r=e.sent,e.next=7,Es([]);case 7:return s=e.sent,i=[].concat(Object(Ye.a)(t),[{field:"projectId",op:"in",value:r.data.map(function(e){return e._id})}]),e.next=11,ei(r.data,i,n);case 11:return c=e.sent,e.next=14,Xs(i);case 14:return l=e.sent,e.next=17,$s(i,r.data);case 17:return o=e.sent,e.next=20,Qs(t);case 20:return u=e.sent,c.isLoading=!1,a.setState({timeRecords:c,dateStats:l,projectStats:o,userStats:u,projects:r,users:s}),e.abrupt("return",c);case 26:throw e.prev=26,e.t0=e.catch(0),e.t0;case 29:case"end":return e.stop()}},e,null,[[0,26]])}));return function(t,a){return e.apply(this,arguments)}}(),a.handleChangeCollection=function(e){console.log("CHANGED: "+e)},a.state={timeRecords:{total:0,data:[],filters:[],page:null,isLoading:!1},events:{total:0,data:[],filters:[],page:null,isLoading:!1},enums:{total:0,data:[],filters:[],page:null,isLoading:!1},projects:{total:0,data:[],filters:[],isLoading:!1},project:null,client:null,dateStats:{data:[],sum:0},projectStats:{data:[]},userStats:{data:[]},users:{total:0,data:[]},tasks:{total:0,data:[],isLoading:!1},clients:{total:0,data:[],isLoading:!1},enumTypes:{total:2,data:[{_id:1,name:"event"},{_id:2,name:"tag"},{_id:3,name:"state"},{_id:4,name:"task"}]},projectId:null,tags:{total:0,data:[],filters:[],isLoading:!1},activities:{total:0,data:[],isLoading:!1}},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.children;return!hs&&fs.storage.getUser()&&(hs=!0),o.a.createElement(qe.Provider,{value:Object(re.a)({addTimeRecord:Ts,addEvent:_s,getTimeRecords:this.getTimeRecords,getEvents:this.getEvents,refreshEvents:this.refreshEvents,refreshTimeRecords:this.refreshTimeRecords,deleteTimeRecord:ri,deleteEvent:si,addProject:Ns,addClient:Ps,addTag:Ms,getClients:this.getClients,editClient:di,editTag:pi,deleteClient:hi,getProjects:this.getProjects,deleteProject:ci,deleteTag:fi,addTask:oi,editTask:ui,deleteTask:li,refreshTasks:this.refreshTasks,editProject:As,editTimeRecord:Ws,editEvent:Us,getTasks:this.getTasks,getProject:this.getProject,getClient:this.getClient,getOpenedTasks:this.getOpenedTasks,handleChange:this.handleChange,getTags:this.getTags,likeTag:this.likeTag,getActivities:this.getActivities,getFile:Rs,getUsersInClub:Ys,getEnums:this.getEnums,refreshEnums:this.refreshEnums,addEnum:Is,editEnum:qs,deleteEnum:ii},this.state)},e)}}]),t}(o.a.Component),yi=a(350),xi=a(351),ki=a(352);Object(fs.init)(va);var Ei=Object(te.createMuiTheme)({palette:va.palette}),Oi=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){document.documentElement.style.setProperty("--primary-color",va.palette.primary.main),document.title="".concat("vypadnivon"," v").concat("0.4.0")}},{key:"render",value:function(){return o.a.createElement(Ds,null,o.a.createElement(wi,null,o.a.createElement(le,{locale:va.locale,"en-US":xi,"sk-SK":ki},o.a.createElement(te.MuiThemeProvider,{theme:Ei},o.a.createElement(we.c,{utils:yi.a},o.a.createElement(ps,null))))))}}]),t}(o.a.Component);d.a.render(o.a.createElement(Oi,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[377,1,2]]]);
//# sourceMappingURL=main.93ba8fd2.chunk.js.map